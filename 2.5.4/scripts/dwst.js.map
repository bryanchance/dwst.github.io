{"version":3,"sources":["webpack:///webpack/bootstrap 6f867ed42fdbacc34253","webpack:///./dwst/scripts/lib/errors.js","webpack:///./dwst/scripts/lib/utils.js","webpack:///./dwst/scripts/lib/particles.js","webpack:///./dwst/scripts/lib/_parsee.js","webpack:///./dwst/scripts/model/dwstgg/_section_list.js","webpack:///./dwst/scripts/ui/renderers/time.js","webpack:///./dwst/scripts/dwst.js","webpack:///./dwst/scripts/lib/lib.js","webpack:///./dwst/scripts/model/model.js","webpack:///./dwst/scripts/model/config.js","webpack:///./dwst/scripts/model/history.js","webpack:///./dwst/scripts/model/dwstgg/dwstgg.js","webpack:///./dwst/scripts/model/dwstgg/_chrome.js","webpack:///./dwst/scripts/model/dwstgg/_commands.js","webpack:///./dwst/scripts/model/dwstgg/_developing.js","webpack:///./dwst/scripts/model/dwstgg/_development.js","webpack:///./dwst/scripts/model/dwstgg/_firefox.js","webpack:///./dwst/scripts/model/dwstgg/_functions.js","webpack:///./dwst/scripts/model/dwstgg/_introduction.js","webpack:///./dwst/scripts/model/dwstgg/_main.js","webpack:///./dwst/scripts/model/dwstgg/_privacy.js","webpack:///./dwst/scripts/model/dwstgg/_styleguide.js","webpack:///./dwst/scripts/model/dwstgg/_simulator.js","webpack:///./dwst/scripts/model/dwstgg/_unprotected.js","webpack:///./dwst/scripts/ui/ui.js","webpack:///./dwst/scripts/ui/components/terminal.js","webpack:///./dwst/scripts/ui/renderers/log_entry.js","webpack:///./dwst/scripts/ui/renderers/direction.js","webpack:///./dwst/scripts/ui/renderers/mlog.js","webpack:///./dwst/scripts/ui/renderers/gfx.js","webpack:///./dwst/scripts/ui/components/clock.js","webpack:///./dwst/scripts/ui/components/prompt.js","webpack:///./dwst/scripts/ui/components/send_button.js","webpack:///./dwst/scripts/ui/components/menu_button.js","webpack:///./dwst/scripts/ui/components/screen.js","webpack:///./dwst/scripts/ui/components/auto_scroll_button.js","webpack:///./dwst/scripts/ui/components/scroll_notification.js","webpack:///./dwst/scripts/ui/components/file_input.js","webpack:///./dwst/scripts/controller/controller.js","webpack:///./dwst/scripts/controller/link.js","webpack:///./dwst/scripts/controller/prompt.js","webpack:///./dwst/scripts/controller/socket.js","webpack:///./dwst/scripts/lib/control.js","webpack:///./dwst/scripts/controller/error.js","webpack:///./dwst/scripts/controller/pwa.js","webpack:///./dwst/scripts/model/plugins.js","webpack:///./dwst/scripts/model/functions.js","webpack:///./dwst/scripts/plugins/binary.js","webpack:///./dwst/scripts/plugins/bins.js","webpack:///./dwst/scripts/plugins/clear.js","webpack:///./dwst/scripts/plugins/connect.js","webpack:///./dwst/scripts/connection.js","webpack:///./dwst/scripts/plugins/disconnect.js","webpack:///./dwst/scripts/plugins/forget.js","webpack:///./dwst/scripts/plugins/help.js","webpack:///./dwst/scripts/plugins/interval.js","webpack:///./dwst/scripts/plugins/loadbin.js","webpack:///./dwst/scripts/plugins/loadtext.js","webpack:///./dwst/scripts/plugins/pwa.js","webpack:///./dwst/scripts/plugins/reset.js","webpack:///./dwst/scripts/plugins/send.js","webpack:///./dwst/scripts/plugins/spam.js","webpack:///./dwst/scripts/plugins/splash.js","webpack:///./dwst/scripts/plugins/texts.js","webpack:///./dwst/scripts/functions/bin.js","webpack:///./dwst/scripts/functions/byte_range.js","webpack:///./dwst/scripts/functions/char_range.js","webpack:///./dwst/scripts/functions/random_bytes.js","webpack:///./dwst/scripts/functions/random_chars.js","webpack:///./dwst/scripts/functions/text.js","webpack:///./dwst/scripts/functions/time.js"],"names":["DwstError","new","target","Error","NoConnection","msg","AlreadyConnected","SocketError","InvalidParticles","expected","remainder","expression","length","InvalidArgument","argument","extraInfo","InvalidCombination","command","commands","UnknownCommand","UnknownInstruction","instruction","UnknownHelpPage","page","UnknownText","variable","UnknownBinary","parseNum","str","substr","parseInt","num","chunkify","l","n","chunks","chunk","i","b","push","range","a","start","stop","Array","fill","map","_","htmlescape","text","replace","errors","specialChars","charCodeRange","end","startCode","charCodeAt","endCode","charCodes","utils","String","fromCharCode","charCode","digitChars","hexChars","concat","smallChars","bigChars","alphaChars","instructionNameChars","instructionArgChars","quote","string","skipSpace","parsee","read","readHexSequence","hex","readWhile","bytes","buffer","Uint8Array","readUnicodeSequence","charValue","fromCodePoint","extractEscapedChar","mapping","from","to","pair","extractRegularChars","readUntil","readDefaultParticleContent","skipExpressionOpen","expressionOpen","skipExpressionClose","expressionClose","skipArgListOpen","argListOpen","skipArgListClose","argListClose","readInstructionName","instructionName","startsWith","readInstructionArg","arg","readInstructionArgs","instructionArgs","some","char","parseExpression","particle","readInstructionParticle","readDefaultParticle","content","readParticle","tryParseParticles","particleString","parsedParticles","Parsee","parseParticles","e","escapeForParticles","textString","replmap","replacer","rm","head","find","rep","parts","split","complete","part","loput","slice","news","out","join","indexOfAny","inputString","chars","indices","Set","indexOf","character","delete","size","Math","min","indexOfNone","includes","thisIndexOf","original","_remainder","stopChars","nextSpecialPos","sliceIndex","allowChars","limit","Infinity","mismatch","sectionList","flatList","values","segments","forEach","value","afterText","pop","last","Reflect","deleteProperty","sections","available","sort","sec","sectionSegment","type","section","spacing","wrap","renderTime","contentOnly","addzero","date","Date","getHours","getMinutes","getSeconds","time","document","createElement","setAttribute","innerHTML","loadModel","dwst","HISTORY_KEY","response","localStorage","getItem","save","history","saveState","JSON","stringify","setItem","parse","Model","Object","seal","lib","model","ui","controller","plugins","functions","Controller","Plugins","Binary","Bins","Clear","Connect","Disconnect","Forget","Help","Interval","Loadbin","Loadtext","Pwa","Reset","Send","Spam","Splash","Texts","Functions","Bin","ByteRange","CharRange","RandomBytes","RandomChars","Text","Time","addEventListener","Ui","init","window","onLoad","navigator","serviceWorker","register","evt","error","preventDefault","onDwstError","pwa","beforeInstallPrompt","_dwst","particles","config","History","dwstgg","Dwstgg","connection","bins","Map","texts","intervalId","appVersion","echoServer","ElementHistory","isArray","idx","item","edition","callback","getLast","unshift","shift","cap","uniqueCommands","commandsSet","has","add","savedHistory","options","getAll","historyLine","emptyHistory","addItem","getCurrent","getNext","getPrevious","gotoBottom","getConnectCommands","createBreadCrumbs","root","unsafe","getNames","plugin","getPlugin","usage","usageExample","examples","exampleCommand","info","funcName","func","getFunction","_helpPage","endsWith","_functionHelp","_commandHelp","_pageContent","chromePage","disclaimer","commandsPage","listing","developingPage","developmentPage","commandSegments","c","firefoxPage","functionsPage","introductionPag","mainPage","privacyPage","gaSection","url","disableTracking","storageSection","futureChanges","styleguidePage","simulatorPage","unprotectedPage","element","_element","_resizePending","terminal","Terminal","getElementById","clock","Clock","prompt","Prompt","sendButton","SendButton","menuButton","MenuButton","screen","Screen","autoScrollButton","AutoScrollButton","scrollNotification","ScrollNotification","fileInput","FileInput","event","key","isOpen","isConnecting","loud","offerConnect","MAX_MAXCHARS","apply","prototype","getElementsByClassName","ref","maxDiv","refTextWidth","offsetWidth","refTextLength","textContent","refWidth","windowWidth","innerWidth","maxFit","floor","leftMargin","invisible","invisibleLeft","round","field","setTimeout","updateGfxPositions","globalKeyPress","silent","focus","_throttledUpdateGfxPositions","_limit","logLine","userWasScrolling","isUserScrolling","appendChild","childElementCount","removeChild","firstChild","scrollLog","logClear","_addLogItem","lines","colors","gfx","mlogDescription","link","line","mlog","hexify","toString","charify","dv","DataView","offset","byteLength","hexes","oneByte","getUint8","asChar","asHex","hd","_hexdump","hexLines","renderLogEntry","linkHandlers","direction","logEntry","timeCell","directionCell","contentCell","renderDirection","renderMlog","lineElements","rawLine","htmlSegments","segment","rawSegment","rawText","safeText","hasOwnProperty","textSpan","linkWrapper","linkWrapperClasses","classes","warning","onclick","onHelpLinkClick","afterTextNode","createTextNode","onCommandLinkClick","hexChunks","textChunks","byteGrid","byteGridClasses","chunksWanted","chunkLength","keys","hexChunk","textChunk","hexContent","hexItem","padEnd","textItem","title","outputCell","lineElement","segmentElement","br","renderGfx","gfxContent","li","chr","ci","color","background","safe","safeco","gfxContainer","refreshClock","classList","remove","setInterval","startClock","documentElement","helpTip","log","raw","select","_enableDebugger","_showHelpTip","keyCode","send","connects","_keyHandler","state","errorMargin","contentHeight","scrollHeight","visible","offsetHeight","invisibleAbove","scrollTop","invisibleBelow","hideScrollNotification","showScrollNotification","removeAttribute","scrollNotificationUpdate","upload","getElementsByTagName","onchange","file","files","click","LinkHandler","PromptHandler","socket","SocketHandler","ErrorHandler","PwaHandler","pluginName","params","paramString","run","noslash","substring","partToMlog","nice","charHex","name","abbr","createLines","mlogItems","CR","LF","previous","hilightControlChars","protocol","selected","connected","sessionLength","meanings","code","reason","sessionLengthString","fr","FileReader","result","blog","readAsArrayBuffer","verb","parseControlChars","controlCharNames","controlChars","readOne","entries","commaCommaOr","stringList","listExcludingLast","upToSecondLastJoined","connectTip","padding","repeat","errorPosition","got","charAt","listTip","constructor","_errorToMLog","_prompt","pluginClasses","_commands","Constructor","set","get","functionClasses","functionName","joinBuffers","buffersToJoin","total","instr","parsed","processed","args","textOrBinary","_process","binary","TextEncoder","encode","isClosing","isClosed","strs","_run","clearLog","protocolString","protoCandidates","protocols","filter","basicAlphabet","httpSeparators","validProtocolChars","usedChars","protocolName","invalidCharsSet","invalidChars","invalidCharsString","self","origin","secureUrl","Connection","protoFormatted","negotiation","FakeSocket","readyState","_path","_nextFlood","onopen","_flood","count","onmessage","data","message","ArrayBuffer","Blob","clearTimeout","onclose","_controller","sessionStartTime","ws","SocketConstructor","WebSocket","_onopen","bind","_onclose","_onmessage","onerror","_onerror","getTime","onConnectionOpen","currentTime","onConnectionClose","onMessage","onError","beforeSendWhileConnecting","onSend","close","forget","getSummary","_removeHistory","commandParts","intervalStr","clearInterval","firstPart","otherParts","payload","interval","spammer","reader","encoding","readAsText","onInstall","reset","TextDecoder","decode","fatal","timesStr","times","spam","nextspam","shape","defaultColors","xmasColors","now","getDate","month","getMonth","CONNECTION_LIST_CAP","historySummary","maybeTooManyConnectCommands","connectCommands","connectionsLines","tooManyWarning","historySection","statusSection","connectionStatus","maybeProtocolStatus","disconnectInstructions","about","beginnerInfo","helpReminder","privacyReminder","linkSection","randombyte","random","randomchar"],"mappings":"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","file":"dwst.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 6);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 6f867ed42fdbacc34253","/**\n\n  Authors: Toni Ruottu, Finland 2010-2018\n\n  This file is part of Dark WebSocket Terminal.\n\n  CC0 1.0 Universal, http://creativecommons.org/publicdomain/zero/1.0/\n\n  To the extent possible under law, Dark WebSocket Terminal developers have waived all\n  copyright and related or neighboring rights to Dark WebSocket Terminal.\n\n*/\n\nexport class DwstError extends Error {\n  constructor() {\n    super();\n    if (new.target === DwstError) {\n      throw new Error('abstract');\n    }\n  }\n}\n\nclass NoConnection extends DwstError {\n  constructor(msg) {\n    super();\n    this.msg = msg;\n  }\n}\n\nclass AlreadyConnected extends DwstError {}\n\nclass SocketError extends DwstError {}\n\nclass InvalidParticles extends DwstError {\n  constructor(expected, remainder, expression = null) {\n    super();\n    this.expected = expected;\n    this.remainder = remainder;\n    this.expression = expression;\n  }\n  get errorPosition() {\n    return this.expression.length - this.remainder.length;\n  }\n}\n\nclass InvalidArgument extends DwstError {\n  constructor(argument, extraInfo) {\n    super();\n    this.argument = argument;\n    this.extraInfo = extraInfo;\n  }\n}\n\nclass InvalidCombination extends DwstError {\n  constructor(command, commands) {\n    super();\n    this.command = command;\n    this.commands = commands;\n  }\n}\n\nclass UnknownCommand extends DwstError {\n  constructor(command) {\n    super();\n    this.command = command;\n  }\n}\n\nclass UnknownInstruction extends DwstError {\n  constructor(instruction) {\n    super();\n    this.instruction = instruction;\n  }\n}\n\nclass UnknownHelpPage extends DwstError {\n  constructor(page) {\n    super();\n    this.page = page;\n  }\n}\n\nclass UnknownText extends DwstError {\n  constructor(variable) {\n    super();\n    this.variable = variable;\n  }\n}\n\nclass UnknownBinary extends DwstError {\n  constructor(variable) {\n    super();\n    this.variable = variable;\n  }\n}\n\nexport default {\n  NoConnection,\n  AlreadyConnected,\n  SocketError,\n  InvalidParticles,\n  InvalidArgument,\n  InvalidCombination,\n  UnknownCommand,\n  UnknownInstruction,\n  UnknownHelpPage,\n  UnknownText,\n  UnknownBinary,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./dwst/scripts/lib/errors.js","\n/**\n\n  Authors: Toni Ruottu, Finland 2010-2018\n\n  This file is part of Dark WebSocket Terminal.\n\n  CC0 1.0 Universal, http://creativecommons.org/publicdomain/zero/1.0/\n\n  To the extent possible under law, Dark WebSocket Terminal developers have waived all\n  copyright and related or neighboring rights to Dark WebSocket Terminal.\n\n*/\n\nexport default {\n\n  parseNum: str => {\n    if (str.length > 2 && str.substr(0, 2) === '0x') {\n      return parseInt(str.substr(2), 16);\n    }\n    const num = parseInt(str, 10);\n    return num;\n  },\n\n  chunkify: (l, n) => {\n    const chunks = [];\n    let chunk = [];\n    let i = 0;\n    for (const b of l) {\n      if (i >= n) {\n        chunks.push(chunk);\n        chunk = [];\n        i = 0;\n      }\n      chunk.push(b);\n      i += 1;\n    }\n    chunks.push(chunk);\n    return chunks;\n  },\n\n  range: (a, b = null) => {\n    let start;\n    let stop;\n    if (b === null) {\n      start = 0;\n      stop = a;\n    } else {\n      start = a;\n      stop = b;\n    }\n    const length = stop - start;\n    return Array(length).fill().map((_, i) => start + i);\n  },\n\n  htmlescape: text => {\n    return text.replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;');\n  },\n\n};\n\n\n\n// WEBPACK FOOTER //\n// ./dwst/scripts/lib/utils.js","\n/**\n\n  Authors: Toni Ruottu, Finland 2017-2018\n           Lauri Kaitala, Finland 2017-2018\n\n  This file is part of Dark WebSocket Terminal.\n\n  CC0 1.0 Universal, http://creativecommons.org/publicdomain/zero/1.0/\n\n  To the extent possible under law, Dark WebSocket Terminal developers have waived all\n  copyright and related or neighboring rights to Dark WebSocket Terminal.\n\n*/\n\n// DWST particles templating language\n\nimport Parsee from './_parsee.js';\nimport errors from './errors.js';\nconst {InvalidParticles} = errors;\nimport utils from './utils.js';\n\nconst specialChars = [\n  '$',\n  '\\\\',\n];\n\nfunction charCodeRange(start, end) {\n  const startCode = start.charCodeAt(0);\n  const endCode = end.charCodeAt(0);\n  const charCodes = utils.range(startCode, endCode + 1);\n  return charCodes.map(charCode => String.fromCharCode(charCode));\n}\n\nconst digitChars = charCodeRange('0', '9');\nconst hexChars = charCodeRange('a', 'f').concat(digitChars);\nconst smallChars = charCodeRange('a', 'z');\nconst bigChars = charCodeRange('A', 'Z');\nconst alphaChars = smallChars.concat(bigChars);\n\nconst instructionNameChars = alphaChars;\nconst instructionArgChars = smallChars.concat(digitChars);\n\nfunction quote(string) {\n  return `\"${string}\"`;\n}\n\nfunction skipSpace(parsee) {\n  while (parsee.read(' ')) {\n    // empty while on purpose\n  }\n}\n\nfunction readHexSequence(parsee) {\n\n  const hex = parsee.readWhile(hexChars, 2);\n  if (hex.length < 2) {\n    throw new InvalidParticles(['hex digit'], String(parsee));\n  }\n  const bytes = [parseInt(hex, 16)];\n  const buffer = new Uint8Array(bytes);\n  return buffer;\n\n}\n\nfunction readUnicodeSequence(parsee) {\n\n  let hex;\n\n  if (parsee.read('{')) {\n    hex = parsee.readWhile(hexChars, 6);\n    if (hex.length < 1) {\n      throw new InvalidParticles(['hex digit'], String(parsee));\n    }\n    if (parsee.length === 0) {\n      throw new InvalidParticles(['hex digit', '\"}\"'], String(parsee));\n    }\n    if (parsee.read('}') === false) {\n      throw new InvalidParticles(['\"}\"'], String(parsee));\n    }\n  } else {\n    hex = parsee.readWhile(hexChars, 4);\n    if (hex.length < 1) {\n      throw new InvalidParticles(['hex digit', '\"{\"'], String(parsee));\n    }\n    if (hex.length < 4) {\n      throw new InvalidParticles(['hex digit'], String(parsee));\n    }\n  }\n  const charCode = parseInt(hex, 16);\n  const charValue = String.fromCodePoint(charCode);\n  return charValue;\n}\n\nfunction extractEscapedChar(parsee) {\n  const mapping = [\n    ['\\\\', '\\\\'],\n    ['$', '$'],\n    ['n', '\\x0a'],\n    ['r', '\\x0d'],\n    ['0', '\\x00'],\n    ['x', null],\n    ['u', null],\n  ];\n  if (parsee.read('x')) {\n    return readHexSequence(parsee);\n  }\n  if (parsee.read('u')) {\n    return readUnicodeSequence(parsee);\n  }\n  if (parsee.length > 0) {\n    for (const [from, to] of mapping) {\n      if (parsee.read(from)) {\n        return to;\n      }\n    }\n  }\n  const expected = mapping.map(pair => pair[0]);\n  throw new InvalidParticles(expected.map(quote), String(parsee));\n}\n\nfunction extractRegularChars(parsee) {\n  return parsee.readUntil(specialChars);\n}\n\nfunction readDefaultParticleContent(parsee) {\n  if (parsee.read('\\\\')) {\n    return extractEscapedChar(parsee);\n  }\n  return extractRegularChars(parsee);\n}\n\nfunction skipExpressionOpen(parsee) {\n  const expressionOpen = '{';\n  if (parsee.read(expressionOpen) === false) {\n    throw new InvalidParticles([expressionOpen].map(quote), String(parsee));\n  }\n}\n\nfunction skipExpressionClose(parsee) {\n  const expressionClose = '}';\n  if (parsee.read(expressionClose) === false) {\n    throw new InvalidParticles([expressionClose].map(quote), String(parsee));\n  }\n}\n\nfunction skipArgListOpen(parsee) {\n  const argListOpen = '(';\n  if (parsee.read(argListOpen) === false) {\n    throw new InvalidParticles([argListOpen].map(quote), String(parsee));\n  }\n}\n\nfunction skipArgListClose(parsee) {\n  const argListClose = ')';\n  if (parsee.read(argListClose) === false) {\n    throw new Error('unexpected return value');\n  }\n}\n\nfunction readInstructionName(parsee) {\n  const instructionName = parsee.readWhile(instructionNameChars);\n  if (instructionName.length === 0) {\n    throw new InvalidParticles(['an instruction name'], String(parsee));\n  }\n  if (parsee.startsWith('}') || parsee.length === 0) {\n    throw new InvalidParticles(['('].map(quote), String(parsee));\n  }\n  return instructionName;\n}\n\nfunction readInstructionArg(parsee) {\n  const arg = parsee.readWhile(instructionArgChars);\n  if (arg.length === 0) {\n    const expected = ['an argument'];\n    throw new InvalidParticles(expected, String(parsee));\n  }\n  return arg;\n}\n\nfunction readInstructionArgs(parsee) {\n  const instructionArgs = [];\n  if (parsee.startsWith(')')) {\n    return instructionArgs;\n  }\n  if (instructionArgChars.some(char => parsee.startsWith(char)) === false) {\n    const expected = ['an argument'].concat([')'].map(quote));\n    throw new InvalidParticles(expected, String(parsee));\n  }\n\n  while (true) {  // eslint-disable-line\n    const arg = readInstructionArg(parsee);\n    instructionArgs.push(arg);\n    skipSpace(parsee);\n    if (parsee.startsWith(')')) {\n      return instructionArgs;\n    }\n    if (parsee.read(',') === false) {\n      throw new InvalidParticles([',', ')'].map(quote), String(parsee));\n    }\n    skipSpace(parsee);\n  }\n}\n\nfunction parseExpression(parsee) {\n  const instructionName = readInstructionName(parsee);\n  skipArgListOpen(parsee);\n  skipSpace(parsee);\n  const instructionArgs = readInstructionArgs(parsee);\n  skipSpace(parsee);\n  skipArgListClose(parsee);\n  const particle = [instructionName].concat(instructionArgs);\n  return particle;\n}\n\nfunction readInstructionParticle(parsee) {\n  skipExpressionOpen(parsee);\n  skipSpace(parsee);\n  const particle = parseExpression(parsee);\n  skipSpace(parsee);\n  skipExpressionClose(parsee);\n  return particle;\n}\n\nfunction readDefaultParticle(parsee) {\n  const content = readDefaultParticleContent(parsee);\n  const particle = ['default', content];\n  return particle;\n}\n\nfunction readParticle(parsee) {\n  if (parsee.read('$')) {\n    return readInstructionParticle(parsee);\n  }\n  return readDefaultParticle(parsee);\n}\n\nfunction tryParseParticles(particleString) {\n  const parsedParticles = [];\n  const parsee = new Parsee(particleString);\n  while (parsee.length > 0) {\n    const particle = readParticle(parsee);\n    parsedParticles.push(particle);\n  }\n  return parsedParticles;\n}\n\nfunction parseParticles(particleString) {\n  try {\n    return tryParseParticles(particleString);\n  } catch (e) {\n    if (e instanceof InvalidParticles) {\n      e.expression = particleString;\n    }\n    throw e;\n  }\n}\n\nfunction escapeForParticles(textString) {\n  const replmap = [\n    ['$', '\\\\$'],\n    ['\\\\', '\\\\\\\\'],\n  ];\n\n  function replacer(str, rm) {\n    if (rm.length < 1) {\n      return str;\n    }\n    const head = rm[0];\n    const find = head[0];\n    const rep = head[1];\n\n    const parts = str.split(find);\n    const complete = [];\n    for (const part of parts) {\n      const loput = rm.slice(1);\n      const news = replacer(part, loput);\n      complete.push(news);\n    }\n    const out = complete.join(rep);\n    return out;\n  }\n  const complete = replacer(textString, replmap);\n  return complete;\n}\n\nexport default {\n  parseParticles,\n  escapeForParticles,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./dwst/scripts/lib/particles.js","/**\n\n  Authors: Toni Ruottu, Finland 2017-2018\n           Lauri Kaitala, Finland 2017\n\n  This file is part of Dark WebSocket Terminal.\n\n  CC0 1.0 Universal, http://creativecommons.org/publicdomain/zero/1.0/\n\n  To the extent possible under law, Dark WebSocket Terminal developers have waived all\n  copyright and related or neighboring rights to Dark WebSocket Terminal.\n\n*/\n\nfunction indexOfAny(inputString, chars) {\n  const indices = new Set(chars.map(character => {\n    return inputString.indexOf(character);\n  }));\n  indices.delete(-1);\n  if (indices.size === 0) {\n    return -1;\n  }\n  return Math.min(...indices);\n}\n\nfunction indexOfNone(inputString, chars) {\n  const indices = inputString.split('').map(character => {\n    return chars.includes(character);\n  });\n  const thisIndexOf = indices.indexOf(false);\n  if (thisIndexOf === -1) {\n    return inputString.length;\n  }\n  return thisIndexOf;\n}\n\nexport default class Parsee {\n\n  constructor(original) {\n    this._remainder = original;\n  }\n\n  get length() {\n    return this._remainder.length;\n  }\n\n  startsWith(str) {\n    return this._remainder.startsWith(str);\n  }\n\n  read(str) {\n    if (this._remainder.startsWith(str) === false) {\n      return false;\n    }\n    this._remainder = this._remainder.slice(str.length);\n    return true;\n  }\n\n  readUntil(stopChars) {\n    const nextSpecialPos = indexOfAny(this._remainder, stopChars);\n    let sliceIndex;\n    if (nextSpecialPos === -1) {\n      sliceIndex = this._remainder.length;\n    } else {\n      sliceIndex = nextSpecialPos;\n    }\n    const chars = this._remainder.slice(0, sliceIndex);\n    this._remainder = this._remainder.slice(sliceIndex);\n    return chars;\n  }\n\n  readWhile(allowChars, limit = Infinity) {\n    const mismatch = indexOfNone(this._remainder, allowChars);\n    const sliceIndex = Math.min(mismatch, limit);\n    const chars = this._remainder.slice(0, sliceIndex);\n    this._remainder = this._remainder.slice(sliceIndex);\n    return chars;\n  }\n\n  toString() {\n    return this._remainder;\n  }\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./dwst/scripts/lib/_parsee.js","\n/**\n\n  Authors: Toni Ruottu, Finland 2010-2018\n\n  This file is part of Dark WebSocket Terminal.\n\n  CC0 1.0 Universal, http://creativecommons.org/publicdomain/zero/1.0/\n\n  To the extent possible under law, Dark WebSocket Terminal developers have waived all\n  copyright and related or neighboring rights to Dark WebSocket Terminal.\n\n*/\n\nfunction flatList(values) {\n  const segments = [];\n  values.forEach(value => {\n    value.afterText = ',';\n    segments.push(value);\n    segments.push(' ');\n  });\n  segments.pop();  // remove extra space\n  const last = segments.pop();\n  Reflect.deleteProperty(last, 'afterText');\n  segments.push(last);\n  return segments;\n}\n\nexport default function sectionList(sections) {\n  const available = [];\n  sections.sort().forEach(sec => {\n    if (sec.length > 1) {\n      const sectionSegment = {\n        type: 'dwstgg',\n        text: sec,\n        section: sec,\n        spacing: true,\n        wrap: false,\n      };\n      available.push(sectionSegment);\n    }\n  });\n  return [flatList(available)];\n}\n\n\n\n// WEBPACK FOOTER //\n// ./dwst/scripts/model/dwstgg/_section_list.js","\n/**\n\n  Authors: Toni Ruottu, Finland 2010-2018\n\n  This file is part of Dark WebSocket Terminal.\n\n  CC0 1.0 Universal, http://creativecommons.org/publicdomain/zero/1.0/\n\n  To the extent possible under law, Dark WebSocket Terminal developers have waived all\n  copyright and related or neighboring rights to Dark WebSocket Terminal.\n\n*/\n\nexport default function renderTime(contentOnly = false) {\n  const addzero = function (i) {\n    if (i < 10) {\n      return `0${i}`;\n    }\n    return String(i);\n  };\n  const date = new Date();\n  const content = `${addzero(date.getHours())}:${addzero(date.getMinutes())}<span class=\"dwst-time__sec\">:${addzero(date.getSeconds())}</span>`;\n\n  if (contentOnly) {\n    return content;\n  }\n\n  const time = document.createElement('span');\n  time.setAttribute('class', 'dwst-time');\n  time.innerHTML = content;\n\n  return time;\n\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./dwst/scripts/ui/renderers/time.js","\n/**\n\n  Authors: Toni Ruottu, Finland 2010-2018\n           William Orr, US 2012\n\n  This file is part of Dark WebSocket Terminal.\n\n  CC0 1.0 Universal, http://creativecommons.org/publicdomain/zero/1.0/\n\n  To the extent possible under law, Dark WebSocket Terminal developers have waived all\n  copyright and related or neighboring rights to Dark WebSocket Terminal.\n\n*/\n\nimport lib from './lib/lib.js';\nimport Model from './model/model.js';\nimport Ui from './ui/ui.js';\nimport Controller from './controller/controller.js';\nimport Plugins from './model/plugins.js';\nimport Functions from './model/functions.js';\n\nimport {DwstError} from './lib/errors.js'; // eslint-disable-line no-duplicate-imports\n\nimport Binary from './plugins/binary.js';\nimport Bins from './plugins/bins.js';\nimport Clear from './plugins/clear.js';\nimport Connect from './plugins/connect.js';\nimport Disconnect from './plugins/disconnect.js';\nimport Forget from './plugins/forget.js';\nimport Help from './plugins/help.js';\nimport Interval from './plugins/interval.js';\nimport Loadbin from './plugins/loadbin.js';\nimport Loadtext from './plugins/loadtext.js';\nimport Pwa from './plugins/pwa.js';\nimport Reset from './plugins/reset.js';\nimport Send from './plugins/send.js';\nimport Spam from './plugins/spam.js';\nimport Splash from './plugins/splash.js';\nimport Texts from './plugins/texts.js';\n\nimport Bin from './functions/bin.js';\nimport ByteRange from './functions/byte_range.js';\nimport CharRange from './functions/char_range.js';\nimport RandomBytes from './functions/random_bytes.js';\nimport RandomChars from './functions/random_chars.js';\nimport Text from './functions/text.js';\nimport Time from './functions/time.js';\n\nfunction loadModel(dwst) {\n  const HISTORY_KEY = 'history';\n  const response = localStorage.getItem(HISTORY_KEY);\n  const save = function (history) {\n    const saveState = JSON.stringify(history);\n    localStorage.setItem(HISTORY_KEY, saveState);\n  };\n  let history = [];\n  if (response !== null) {\n    history = JSON.parse(response);\n  }\n  return new Model(dwst, history, save);\n}\n\nconst dwst = Object.seal({\n  lib,\n  model: null,\n  ui: null,\n  controller: null,\n  plugins: null,\n  functions: null,\n});\n\ndwst.model = loadModel(dwst);\n\ndwst.controller = new Controller(dwst);\n\ndwst.plugins = new Plugins(dwst, [\n  Binary,\n  Bins,\n  Clear,\n  Connect,\n  Disconnect,\n  Forget,\n  Help,\n  Interval,\n  Loadbin,\n  Loadtext,\n  Pwa,\n  Reset,\n  Send,\n  Spam,\n  Splash,\n  Texts,\n]);\n\ndwst.functions = new Functions(dwst, [\n  Bin,\n  ByteRange,\n  CharRange,\n  RandomBytes,\n  RandomChars,\n  Text,\n  Time,\n]);\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  dwst.ui = new Ui(document, dwst);\n  dwst.ui.init();\n});\n\nwindow.addEventListener('load', () => {\n  dwst.ui.onLoad();\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.register('/service_worker.js');\n  }\n});\n\nwindow.addEventListener('error', evt => {\n  if (evt.error instanceof DwstError) {\n    evt.preventDefault();\n    dwst.controller.error.onDwstError(evt.error);\n  }\n});\n\nwindow.addEventListener('beforeinstallprompt', evt => {\n  dwst.controller.pwa.beforeInstallPrompt(evt);\n});\n\n\n// for live debugging\nwindow._dwst = dwst;\n\n\n\n// WEBPACK FOOTER //\n// ./dwst/scripts/dwst.js","\n/**\n\n  Authors: Toni Ruottu, Finland 2010-2018\n\n  This file is part of Dark WebSocket Terminal.\n\n  CC0 1.0 Universal, http://creativecommons.org/publicdomain/zero/1.0/\n\n  To the extent possible under law, Dark WebSocket Terminal developers have waived all\n  copyright and related or neighboring rights to Dark WebSocket Terminal.\n\n*/\n\nimport errors from './errors.js';\nimport particles from './particles.js';\nimport utils from './utils.js';\n\nexport default {\n  errors,\n  utils,\n  particles,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./dwst/scripts/lib/lib.js","\n/**\n\n  Authors: Toni Ruottu, Finland 2010-2018\n\n  This file is part of Dark WebSocket Terminal.\n\n  CC0 1.0 Universal, http://creativecommons.org/publicdomain/zero/1.0/\n\n  To the extent possible under law, Dark WebSocket Terminal developers have waived all\n  copyright and related or neighboring rights to Dark WebSocket Terminal.\n\n*/\n\nimport config from './config.js';\nimport History from './history.js';\nimport Dwstgg from './dwstgg/dwstgg.js';\n\nexport default class Model {\n\n  constructor(dwst, history, save) {\n    this.config = config;\n    this.history = new History(history, {save});\n    this.dwstgg = new Dwstgg(dwst);\n    this.connection = null;\n    this.bins = new Map();\n    this.texts = new Map();\n    this.intervalId = null;\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./dwst/scripts/model/model.js","export default {\n  appVersion: '2.5.4',\n  echoServer: 'wss://echo.websocket.org/',\n};\n\n\n\n// WEBPACK FOOTER //\n// ./dwst/scripts/model/config.js","\n/**\n\n  Authors: Toni Ruottu, Finland 2010-2018\n           William Orr, US 2012\n\n  This file is part of Dark WebSocket Terminal.\n\n  CC0 1.0 Universal, http://creativecommons.org/publicdomain/zero/1.0/\n\n  To the extent possible under law, Dark WebSocket Terminal developers have waived all\n  copyright and related or neighboring rights to Dark WebSocket Terminal.\n\n*/\n\nclass ElementHistory {\n\n  constructor(history = []) {\n    if (!Array.isArray(history)) {\n      throw new Error('invalid history saveState');\n    }\n    this.idx = -1;\n    this.history = history;\n  }\n\n  get length() {\n    return this.history.length;\n  }\n\n  getAll() {\n    return this.history;\n  }\n\n  getNext() {\n    if (this.idx > 0) {\n      this.idx -= 1;\n      return this.history[this.idx];\n    }\n    if (this.idx === 0) {\n      this.idx -= 1;\n      return '';\n    }\n\n    return '';\n  }\n\n  getPrevious() {\n    if (this.history.length === 0) {\n      return '';\n    }\n    if (this.idx + 1 < this.history.length) {\n      this.idx += 1;\n      return this.history[this.idx];\n    }\n    return this.history[this.history.length - 1];\n  }\n\n  gotoBottom() {\n    this.idx = -1;\n  }\n\n  getLast() {\n    return this.history[0];\n  }\n\n  addItem(item, edition, callback) {\n    if (typeof item !== 'string') {\n      throw new Error('invalid type');\n    }\n    if (item !== '' && item !== this.getLast()) {\n      this.history.unshift(item);\n      if (edition) {\n        this.idx += 1;\n      }\n    }\n    callback();\n  }\n\n  removeBottom() {\n    this.history.shift();\n  }\n\n  getCurrent() {\n    return this.history[this.idx];\n  }\n\n  getConnectCommands(cap) {\n    const uniqueCommands = [];\n    const commandsSet = new Set();\n    for (const command of this.history) {\n      if (command.startsWith('/connect ') && !commandsSet.has(command)) {\n        uniqueCommands.push(command);\n        commandsSet.add(command);\n      }\n      if (uniqueCommands.length >= cap) {\n        return uniqueCommands;\n      }\n    }\n    return uniqueCommands;\n  }\n\n}\n\nexport default class History {\n\n  constructor(savedHistory, options) {\n    this.save = options.save;\n    this.history = new ElementHistory(savedHistory);\n  }\n\n  getHistoryLength() {\n    return this.history.length;\n  }\n\n  getSummary() {\n    const history = this.history.getAll();\n    const historyLine = ['History '];\n    if (history.length < 1) {\n      historyLine.push('is empty');\n    } else {\n      historyLine.push('contains ');\n      historyLine.push({\n        type: 'strong',\n        text: `${history.length}`,\n      });\n      if (history.length === 1) {\n        historyLine.push(' command');\n      } else {\n        historyLine.push(' commands');\n      }\n    }\n    return historyLine;\n  }\n\n  forget() {\n    const emptyHistory = [];\n    this.history = new ElementHistory(emptyHistory, {save: this.save});\n    this.save(emptyHistory);\n  }\n\n  addItem(value, edition) {\n    this.history.addItem(value, edition, () => {\n      const history = this.history.getAll();\n      this.save(history);\n    });\n  }\n\n  getNext(value) {\n    if (value !== this.history.getCurrent()) {\n      this.addItem(value, true);\n    }\n    return this.history.getNext();\n  }\n\n  getPrevious(value) {\n    if (value !== this.history.getCurrent()) {\n      this.addItem(value, true);\n    }\n    return this.history.getPrevious();\n  }\n\n  select(value) {\n    this.addItem(value);\n    this.history.gotoBottom();\n  }\n\n  atBottom() {\n    return this.history.idx === -1;\n  }\n\n  getConnectCommands(cap) {\n    return this.history.getConnectCommands(cap);\n  }\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./dwst/scripts/model/history.js","\n/**\n\n  Authors: Toni Ruottu, Finland 2010-2018\n\n  This file is part of Dark WebSocket Terminal.\n\n  CC0 1.0 Universal, http://creativecommons.org/publicdomain/zero/1.0/\n\n  To the extent possible under law, Dark WebSocket Terminal developers have waived all\n  copyright and related or neighboring rights to Dark WebSocket Terminal.\n\n*/\n\nimport errors from '../../lib/errors.js';\nconst {UnknownCommand, UnknownHelpPage, UnknownInstruction} = errors;\n\nimport chromePage from './_chrome.js';\nimport commandsPage from './_commands.js';\nimport developingPage from './_developing.js';\nimport developmentPage from './_development.js';\nimport firefoxPage from './_firefox.js';\nimport functionsPage from './_functions.js';\nimport introductionPage from './_introduction.js';\nimport mainPage from './_main.js';\nimport privacyPage from './_privacy.js';\nimport styleguidePage from './_styleguide.js';\nimport simulatorPage from './_simulator.js';\nimport unprotectedPage from './_unprotected.js';\n\nfunction createBreadCrumbs(section = null) {\n  const root = [\n    {\n      type: 'dwstgg',\n      text: 'DWSTGG',\n    },\n  ];\n  if (section === null) {\n    return root;\n  }\n  return root.concat([\n    {\n      type: 'regular',\n      text: ' &raquo; ',\n      unsafe: true,\n    },\n    {\n      type: 'dwstgg',\n      text: `${section}`,\n      section: `${section}`,\n    },\n  ]);\n}\n\nexport default class Dwstgg {\n\n  constructor(dwst) {\n    this._dwst = dwst;\n  }\n\n  _helpPage(section) {\n    if (section === '#main') {\n      return mainPage();\n    }\n    if (section === '#chrome') {\n      return chromePage();\n    }\n    if (section === '#firefox') {\n      return firefoxPage();\n    }\n    if (section === '#developing') {\n      return developingPage();\n    }\n    if (section === '#development') {\n      return developmentPage();\n    }\n    if (section === '#styleguide') {\n      return styleguidePage();\n    }\n    if (section === '#simulator') {\n      return simulatorPage();\n    }\n    if (section === '#unprotected') {\n      return unprotectedPage();\n    }\n    if (section === '#privacy') {\n      return privacyPage();\n    }\n    if (section === '#introduction') {\n      return introductionPage();\n    }\n    if (section === '#commands') {\n      const commands = this._dwst.plugins.getNames();\n      return commandsPage(commands);\n    }\n    if (section === '#functions') {\n      const functions = this._dwst.functions.getNames();\n      return functionsPage(functions);\n    }\n    throw new UnknownHelpPage(section);\n  }\n\n  _commandHelp(command) {\n    const plugin = this._dwst.plugins.getPlugin(command);\n    if (plugin === null) {\n      throw new UnknownCommand(command);\n    }\n    if (typeof plugin.usage === 'undefined') {\n      throw new UnknownHelpPage(command);\n    }\n    const usage = plugin.usage().map(usageExample => {\n      return {\n        type: 'syntax',\n        text: usageExample,\n      };\n    });\n    const examples = plugin.examples().map(exampleCommand => {\n      return {\n        type: 'command',\n        text: exampleCommand,\n      };\n    });\n\n    return ([\n      [\n        {\n          type: 'h1',\n          text: `${command}`,\n        },\n        {\n          type: 'regular',\n          text: ' &ndash; ',\n          unsafe: true,\n        },\n        plugin.info(),\n      ],\n      '',\n      '',\n      {\n        type: 'h2',\n        text: 'Syntax',\n      },\n      '',\n    ]).concat(usage).concat([\n      '',\n      {\n        type: 'h2',\n        text: 'Examples',\n      },\n      '',\n    ]).concat(examples).concat([\n      '',\n    ]);\n  }\n\n  _functionHelp(section) {\n    const funcName = section.slice(0, -'()'.length);\n    const func = this._dwst.functions.getFunction(funcName);\n    if (func === null) {\n      throw new UnknownInstruction(funcName);\n    }\n    if (typeof func.usage === 'undefined') {\n      throw new UnknownHelpPage(funcName);\n    }\n    const usage = func.usage().map(usageExample => {\n      return {\n        type: 'syntax',\n        text: usageExample,\n      };\n    });\n    const examples = func.examples().map(exampleCommand => {\n      return {\n        type: 'command',\n        text: exampleCommand,\n      };\n    });\n\n    return ([\n      [\n        func.type(),\n        ' ',\n        {\n          type: 'h1',\n          text: `${section}`,\n        },\n        {\n          type: 'regular',\n          text: ' &ndash; ',\n          unsafe: true,\n        },\n        func.info(),\n      ],\n      '',\n      '',\n      {\n        type: 'h2',\n        text: 'Syntax',\n      },\n      '',\n    ]).concat(usage).concat([\n      '',\n      {\n        type: 'h2',\n        text: 'Examples',\n      },\n      '',\n    ]).concat(examples).concat([\n      '',\n    ]);\n  }\n\n  _pageContent(section) {\n    if (section.startsWith('#')) {\n      return this._helpPage(section);\n    }\n    if (section.endsWith('()')) {\n      return this._functionHelp(section);\n    }\n    return this._commandHelp(section);\n  }\n\n  page(section) {\n    const content = this._pageContent(section);\n    if (content === null) {\n      return null;\n    }\n    return ([\n      createBreadCrumbs(section),\n      '',\n    ]).concat(content);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./dwst/scripts/model/dwstgg/dwstgg.js","\n/**\n\n  Authors: Toni Ruottu, Finland 2010-2018\n\n  This file is part of Dark WebSocket Terminal.\n\n  CC0 1.0 Universal, http://creativecommons.org/publicdomain/zero/1.0/\n\n  To the extent possible under law, Dark WebSocket Terminal developers have waived all\n  copyright and related or neighboring rights to Dark WebSocket Terminal.\n\n*/\n\nconst disclaimer = [\n  {\n    type: 'h2',\n    text: '!!! Follow at your own risk !!!',\n  },\n  '',\n  'Disabling security is generally a bad idea and you should only do it if you understand the implications.',\n];\n\nexport default function chromePage() {\n  return ([\n    {\n      type: 'h1',\n      text: 'Insecure WebSocket Access in Chrome',\n    },\n    '',\n    [\n      'Chrome lets you temporarily bypass the security feature that prevents you from connecting to ',\n      {\n        type: 'dwstgg',\n        text: '#unprotected',\n        section: '#unprotected',\n      },\n      ' WebSockets.',\n    ],\n    '',\n  ]).concat(disclaimer).concat([\n    '',\n    {\n      type: 'h2',\n      text: 'Instructions',\n    },\n    '',\n    [\n      '1. Use ',\n      {\n        type: 'dwstgg',\n        text: 'connect',\n        section: 'connect',\n      },\n      ' on a ws:// address',\n    ],\n    '2. Look for a shield icon',\n    '3. Click on the shield icon',\n    '4. Click \"Load unsafe scripts\"',\n    '5. Use connect again',\n    '',\n  ]);\n}\n\n\n\n// WEBPACK FOOTER //\n// ./dwst/scripts/model/dwstgg/_chrome.js","\n/**\n\n  Authors: Toni Ruottu, Finland 2010-2018\n\n  This file is part of Dark WebSocket Terminal.\n\n  CC0 1.0 Universal, http://creativecommons.org/publicdomain/zero/1.0/\n\n  To the extent possible under law, Dark WebSocket Terminal developers have waived all\n  copyright and related or neighboring rights to Dark WebSocket Terminal.\n\n*/\n\nimport sectionList from './_section_list.js';\n\nexport default function commandsPage(commands) {\n\n  const listing = sectionList(commands);\n\n  return ([\n    {\n      type: 'h1',\n      text: 'Alphabetical List of Commands',\n    },\n    '',\n  ]).concat(listing).concat([\n    [\n      'Type ',\n      {\n        type: 'syntax',\n        text: '/help <command>',\n      },\n      ' for usage',\n    ],\n    '',\n  ]);\n}\n\n\n\n// WEBPACK FOOTER //\n// ./dwst/scripts/model/dwstgg/_commands.js","\n/**\n\n  Authors: Toni Ruottu, Finland 2010-2018\n\n  This file is part of Dark WebSocket Terminal.\n\n  CC0 1.0 Universal, http://creativecommons.org/publicdomain/zero/1.0/\n\n  To the extent possible under law, Dark WebSocket Terminal developers have waived all\n  copyright and related or neighboring rights to Dark WebSocket Terminal.\n\n*/\n\nexport default function developingPage() {\n  return [\n    {\n      type: 'h1',\n      text: 'DWST Development',\n    },\n    '',\n    [\n      '- Run the ',\n      {\n        type: 'dwstgg',\n        text: '#development',\n        section: '#development',\n      },\n      ' server',\n    ],\n    [\n      '- User interface ',\n      {\n        type: 'dwstgg',\n        text: '#styleguide',\n        section: '#styleguide',\n      },\n    ],\n    [\n      '- WebSocket server ',\n      {\n        type: 'dwstgg',\n        text: '#simulator',\n        section: '#simulator',\n      },\n    ],\n  ];\n}\n\n\n\n// WEBPACK FOOTER //\n// ./dwst/scripts/model/dwstgg/_developing.js","\n/**\n\n  Authors: Toni Ruottu, Finland 2010-2018\n\n  This file is part of Dark WebSocket Terminal.\n\n  CC0 1.0 Universal, http://creativecommons.org/publicdomain/zero/1.0/\n\n  To the extent possible under law, Dark WebSocket Terminal developers have waived all\n  copyright and related or neighboring rights to Dark WebSocket Terminal.\n\n*/\n\nconst commands = [\n  'git clone https://github.com/dwst/dwst.git',\n  'cd dwst',\n  'npm install',\n  'gulp dev',\n];\n\nconst commandSegments = commands.map(c => {\n  return {\n    type: 'code',\n    text: c,\n  };\n});\n\nexport default function developmentPage() {\n  return ([\n    {\n      type: 'h1',\n      text: 'DWST Development Server',\n    },\n    '',\n    'You can run DWST development server by executing the following commands in the shell near you.',\n    '',\n  ]).concat(commandSegments).concat([\n    '',\n    [\n      'This is useful if you wish to customise DWST on source code level but can also be used to access ',\n      {\n        type: 'dwstgg',\n        text: '#unprotected',\n        section: '#unprotected',\n      },\n      ' WebSockets.',\n    ],\n    '',\n  ]);\n}\n\n\n\n// WEBPACK FOOTER //\n// ./dwst/scripts/model/dwstgg/_development.js","\n/**\n\n  Authors: Toni Ruottu, Finland 2010-2018\n\n  This file is part of Dark WebSocket Terminal.\n\n  CC0 1.0 Universal, http://creativecommons.org/publicdomain/zero/1.0/\n\n  To the extent possible under law, Dark WebSocket Terminal developers have waived all\n  copyright and related or neighboring rights to Dark WebSocket Terminal.\n\n*/\n\nconst disclaimer = [\n  {\n    type: 'h2',\n    text: '!!! Follow at your own risk !!!',\n  },\n  '',\n  'Disabling security is generally a bad idea and you should only do it if you understand the implications.',\n];\n\nexport default function firefoxPage() {\n  return ([\n    {\n      type: 'h1',\n      text: 'Insecure WebSocket Access in Firefox',\n    },\n    '',\n    [\n      'Firefox lets you disable the security feature that prevents you from connecting to ',\n      {\n        type: 'dwstgg',\n        text: '#unprotected',\n        section: '#unprotected',\n      },\n      ' WebSockets.',\n    ],\n    '',\n  ]).concat(disclaimer).concat([\n    '',\n    {\n      type: 'h2',\n      text: 'Instructions',\n    },\n    '',\n    '1. Go to about:config',\n    '2. Search for WebSocket',\n    '3. Set allowInsecureFromHTTPS to true',\n    '',\n  ]);\n}\n\n\n\n// WEBPACK FOOTER //\n// ./dwst/scripts/model/dwstgg/_firefox.js","\n/**\n\n  Authors: Toni Ruottu, Finland 2010-2018\n\n  This file is part of Dark WebSocket Terminal.\n\n  CC0 1.0 Universal, http://creativecommons.org/publicdomain/zero/1.0/\n\n  To the extent possible under law, Dark WebSocket Terminal developers have waived all\n  copyright and related or neighboring rights to Dark WebSocket Terminal.\n\n*/\n\nimport sectionList from './_section_list.js';\n\nexport default function functionsPage(functions) {\n\n  const sections = functions.map(funcName => `${funcName}()`);\n  const listing = sectionList(sections);\n\n  return ([\n    {\n      type: 'h1',\n      text: 'Alphabetical List of Functions',\n    },\n    '',\n  ]).concat(listing).concat([\n    [\n      'Type ',\n      {\n        type: 'syntax',\n        text: '/help <function>',\n      },\n      ' for usage',\n    ],\n    '',\n  ]);\n}\n\n\n\n// WEBPACK FOOTER //\n// ./dwst/scripts/model/dwstgg/_functions.js","\n/**\n\n  Authors: Toni Ruottu, Finland 2010-2018\n\n  This file is part of Dark WebSocket Terminal.\n\n  CC0 1.0 Universal, http://creativecommons.org/publicdomain/zero/1.0/\n\n  To the extent possible under law, Dark WebSocket Terminal developers have waived all\n  copyright and related or neighboring rights to Dark WebSocket Terminal.\n\n*/\n\nexport default function introductionPag() {\n\n  return [\n    {\n      type: 'h1',\n      text: 'Introduction for Beginners',\n    },\n    '',\n    'DWST is used to manually interact with a WebSocket server.',\n    '',\n    {\n      type: 'h2',\n      text: 'The Very Basics',\n    },\n    '',\n    [\n      'Use the ',\n      {\n        type: 'dwstgg',\n        text: 'connect',\n        section: 'connect',\n      },\n      ' command to establish a connection. ',\n      'Type in text to send messages. ',\n      'End the connection with the ',\n      {\n        type: 'dwstgg',\n        text: 'disconnect',\n        section: 'disconnect',\n      },\n      ' command when you are done.',\n    ],\n    '',\n    {\n      type: 'h2',\n      text: 'Convenience Tools',\n    },\n    '',\n    [\n      'Use the ',\n      {\n        type: 'dwstgg',\n        text: 'send',\n        section: 'send',\n      },\n      ' and ',\n      {\n        type: 'dwstgg',\n        text: 'binary',\n        section: 'binary',\n      },\n      ' commands to construct more complex messages. ',\n      'Setup a periodic send with the ',\n      {\n        type: 'dwstgg',\n        text: 'interval',\n        section: 'interval',\n      },\n      ' command or send a burst of messages with the ',\n      {\n        type: 'dwstgg',\n        text: 'spam',\n        section: 'spam',\n      },\n      ' command.',\n    ],\n    '',\n    {\n      type: 'h2',\n      text: 'In Case of Emergency',\n    },\n    '',\n    [\n      'Use the ',\n      {\n        type: 'strong',\n        text: 'escape key',\n      },\n      ' for an emergency shutdown if you feel that things are spinning out of control. ',\n      '',\n      'Click on the DWST logo or use the ',\n      {\n        type: 'dwstgg',\n        text: 'splash',\n        section: 'splash',\n      },\n      ' command if you get lost.',\n    ],\n    '',\n  ];\n}\n\n\n\n// WEBPACK FOOTER //\n// ./dwst/scripts/model/dwstgg/_introduction.js","\n/**\n\n  Authors: Toni Ruottu, Finland 2010-2018\n\n  This file is part of Dark WebSocket Terminal.\n\n  CC0 1.0 Universal, http://creativecommons.org/publicdomain/zero/1.0/\n\n  To the extent possible under law, Dark WebSocket Terminal developers have waived all\n  copyright and related or neighboring rights to Dark WebSocket Terminal.\n\n*/\n\nexport default function mainPage() {\n\n  return [\n    {\n      type: 'h1',\n      text: 'DWST Guide to Galaxy',\n    },\n    '',\n    'DWSTGG is here to help you get the most out of Dark WebSocket Terminal',\n    '',\n    {\n      type: 'h2',\n      text: 'Topics',\n    },\n    '',\n    [\n      '- ',\n      {\n        type: 'dwstgg',\n        text: '#introduction',\n        section: '#introduction',\n      },\n      ' for beginners',\n    ],\n    [\n      '- Working with ',\n      {\n        type: 'dwstgg',\n        text: '#unprotected',\n        section: '#unprotected',\n      },\n      ' sockets',\n    ],\n    [\n      '- ',\n      {\n        type: 'dwstgg',\n        text: '#privacy',\n        section: '#privacy',\n      },\n      ' and tracking information',\n    ],\n    [\n      '- Alphabetical list of ',\n      {\n        type: 'dwstgg',\n        text: '#commands',\n        section: '#commands',\n      },\n    ],\n    [\n      '- Alphabetical list of ',\n      {\n        type: 'dwstgg',\n        text: '#functions',\n        section: '#functions',\n      },\n    ],\n    [\n      '- ',\n      {\n        type: 'dwstgg',\n        text: '#developing',\n        section: '#developing',\n      },\n      ' DWST itself',\n    ],\n    '',\n    [\n      'Open with ',\n      {\n        type: 'syntax',\n        text: '/help #<keyword>',\n      },\n    ],\n    '',\n  ];\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./dwst/scripts/model/dwstgg/_main.js","\n/**\n\n  Authors: Toni Ruottu, Finland 2010-2018\n\n  This file is part of Dark WebSocket Terminal.\n\n  CC0 1.0 Universal, http://creativecommons.org/publicdomain/zero/1.0/\n\n  To the extent possible under law, Dark WebSocket Terminal developers have waived all\n  copyright and related or neighboring rights to Dark WebSocket Terminal.\n\n*/\n\nconst gaSection = [\n  'We use ',\n  {\n    type: 'link',\n    text: 'Google Analytics',\n    url: 'https://www.google.com/analytics/',\n  },\n  ' to collect information about DWST usage. ',\n  'The main motivation is to collect statistical information to aid us develop and promote the software. ',\n];\n\nconst disableTracking = [\n  'There are several ways to disable tracking. ',\n  'You could use some browser extension that blocks Google Analytics or',\n  'you could use the DWST ',\n  {\n    type: 'dwstgg',\n    text: '#development',\n    section: '#development',\n  },\n  ' server which should have Google Analytics disabled.',\n];\n\nconst storageSection = [\n  'Google Analytics stores some information in cookies. ',\n  'DWST itself uses local storage for storing command history. ',\n  'You may use the built-in ',\n  {\n    type: 'dwstgg',\n    text: 'forget',\n    section: 'forget',\n  },\n  ' command to quickly remove stored command history. ',\n  'Consider using tools provided by your browser for more serious cleaning.',\n];\n\nconst futureChanges = [\n  'This describes how we do things today. ',\n  'Check this page again sometime for possible updates on privacy and tracking considerations.',\n];\n\nexport default function privacyPage() {\n\n  return [\n    {\n      type: 'h1',\n      text: 'Privacy and Tracking Information',\n    },\n    '',\n    gaSection,\n    '',\n    disableTracking,\n    '',\n    storageSection,\n    '',\n    futureChanges,\n    '',\n  ];\n}\n\n\n\n// WEBPACK FOOTER //\n// ./dwst/scripts/model/dwstgg/_privacy.js","\n/**\n\n  Authors: Toni Ruottu, Finland 2010-2018\n\n  This file is part of Dark WebSocket Terminal.\n\n  CC0 1.0 Universal, http://creativecommons.org/publicdomain/zero/1.0/\n\n  To the extent possible under law, Dark WebSocket Terminal developers have waived all\n  copyright and related or neighboring rights to Dark WebSocket Terminal.\n\n*/\n\nexport default function styleguidePage() {\n  return [\n    {\n      type: 'h1',\n      text: 'Living Styleguide',\n    },\n    '',\n    [\n      'DWST is built out of custom built user interface elements which are documented in the ',\n      {\n        type: 'link',\n        text: 'living styleguide',\n        url: '/styleguide',\n      },\n      '. The styleguide is generated automatically from KSS metadata which is included in related CSS files.',\n    ],\n  ];\n}\n\n\n\n// WEBPACK FOOTER //\n// ./dwst/scripts/model/dwstgg/_styleguide.js","\n/**\n\n  Authors: Toni Ruottu, Finland 2018\n\n  This file is part of Dark WebSocket Terminal.\n\n  CC0 1.0 Universal, http://creativecommons.org/publicdomain/zero/1.0/\n\n  To the extent possible under law, Dark WebSocket Terminal developers have waived all\n  copyright and related or neighboring rights to Dark WebSocket Terminal.\n\n*/\n\nexport default function simulatorPage() {\n  return [\n    {\n      type: 'h1',\n      text: 'Server Simulator',\n    },\n    '',\n    [\n      'The built-in server simulator can be used for manual testing of dwst itself. ',\n      'It exists so dwst developers do not have to setup or burden test servers. ',\n      'It can be used for offline testing since it does not use the network.',\n    ],\n    '',\n    {\n      type: 'h2',\n      text: 'Modes',\n    },\n    '',\n    {\n      type: 'command',\n      text: '/connect dwst://echo',\n    },\n    'returns sent messages back to you',\n    '',\n    {\n      type: 'command',\n      text: '/connect dwst://flood',\n    },\n    'creates a flood of incoming messages',\n  ];\n}\n\n\n\n// WEBPACK FOOTER //\n// ./dwst/scripts/model/dwstgg/_simulator.js","\n/**\n\n  Authors: Toni Ruottu, Finland 2010-2018\n\n  This file is part of Dark WebSocket Terminal.\n\n  CC0 1.0 Universal, http://creativecommons.org/publicdomain/zero/1.0/\n\n  To the extent possible under law, Dark WebSocket Terminal developers have waived all\n  copyright and related or neighboring rights to Dark WebSocket Terminal.\n\n*/\n\nexport default function unprotectedPage() {\n  return [\n    {\n      type: 'h1',\n      text: 'Working with Unprotected WebSockets',\n    },\n    '',\n    [\n      'Browsers tend to prevent unprotected WebSockets connections from secure origins. ',\n      'You may encounter this problem if your target WebSocket address starts with',\n      {\n        type: 'strong',\n        text: ' ws://',\n      },\n    ],\n    '',\n    {\n      type: 'h2',\n      text: 'Use wss INSTEAD',\n    },\n    '',\n    [\n      'The most straight forward fix is to use the secure address instead. ',\n      'However, the server needs to accept secure connections for this to work.',\n    ],\n    '',\n    {\n      type: 'h2',\n      text: 'Use Dev Server',\n    },\n    '',\n    [\n      'The connection restrictions apply to DWST since it is served over https. ',\n      'You can work around the problem by setting up the DWST ',\n      {\n        type: 'dwstgg',\n        text: '#development',\n        section: '#development',\n      },\n      ' server on your local work station.',\n    ],\n    '',\n    {\n      type: 'h2',\n      text: 'Disable Security',\n    },\n    '',\n    [\n      'Finally, you have the option of disabling related browser security features. ',\n      'However, doing this will screw up your security and release testing. ',\n      'Nevertheless we have instructions for ',\n      {\n        type: 'dwstgg',\n        text: '#Chrome',\n        section: '#chrome',\n      },\n      ' and ',\n      {\n        type: 'dwstgg',\n        text: '#Firefox',\n        section: '#firefox',\n      },\n      '.',\n    ],\n    '',\n  ];\n}\n\n\n\n// WEBPACK FOOTER //\n// ./dwst/scripts/model/dwstgg/_unprotected.js","\n/**\n\n  Authors: Toni Ruottu, Finland 2010-2018\n\n  This file is part of Dark WebSocket Terminal.\n\n  CC0 1.0 Universal, http://creativecommons.org/publicdomain/zero/1.0/\n\n  To the extent possible under law, Dark WebSocket Terminal developers have waived all\n  copyright and related or neighboring rights to Dark WebSocket Terminal.\n\n*/\n\nimport Terminal from './components/terminal.js';\nimport Clock from './components/clock.js';\nimport Prompt from './components/prompt.js';\nimport SendButton from './components/send_button.js';\nimport MenuButton from './components/menu_button.js';\nimport Screen from './components/screen.js';\nimport AutoScrollButton from './components/auto_scroll_button.js';\nimport ScrollNotification from './components/scroll_notification.js';\nimport FileInput from './components/file_input.js';\n\nexport default class Ui {\n\n  constructor(element, dwst) {\n    this._element = element;\n    this._dwst = dwst;\n    this._resizePending = false;\n\n    this.terminal = new Terminal(element.getElementById('js-terminal'), this._dwst);\n    this.clock = new Clock(element.getElementById('js-clock'), this._dwst);\n    this.prompt = new Prompt(element.getElementById('js-prompt'), this._dwst);\n    this.sendButton = new SendButton(element.getElementById('js-send-button'), this._dwst);\n    this.menuButton = new MenuButton(element.getElementById('js-menu-button'), this._dwst);\n    this.screen = new Screen(element.getElementById('js-screen'), this._dwst);\n    this.autoScrollButton = new AutoScrollButton(element.getElementById('js-auto-scroll-button'), this._dwst);\n    this.scrollNotification = new ScrollNotification(element.getElementById('js-scroll-notification'), this._dwst);\n    this.fileInput = new FileInput(element.getElementById('js-file-input'), this._dwst);\n  }\n\n  globalKeyPress(event) {\n    if (event.key === 'Escape') {\n      const connection = this._dwst.model.connection;\n      if (connection !== null && (connection.isOpen() || connection.isConnecting())) {\n        this._dwst.controller.prompt.loud('/disconnect');\n      } else {\n        this.prompt.offerConnect();\n      }\n    }\n  }\n\n  updateGfxPositions() {\n    // Updating gfx positions with this method disables basic centering\n    // and aligns the text in the gfx section with the text in log lines.\n    const MAX_MAXCHARS = 110;\n    Reflect.apply(Array.prototype.forEach, this._element.getElementsByClassName('dwst-gfx'), [maxDiv => {\n      const ref = maxDiv.getElementsByClassName('dwst-gfx__line')[0];\n      const refTextWidth = ref.offsetWidth;\n      const refTextLength = ref.textContent.length;\n      const refWidth = refTextWidth / refTextLength;\n      const windowWidth = window.innerWidth;\n      const maxFit = Math.floor(windowWidth / refWidth);\n      let leftMargin = 0;\n      if (maxFit < MAX_MAXCHARS) {\n        const invisible = MAX_MAXCHARS - maxFit;\n        const invisibleLeft = Math.round(invisible / 2);\n        leftMargin -= invisibleLeft;\n      }\n      const field = maxDiv.getElementsByClassName('dwst-gfx__content')[0];\n      field.setAttribute('style', `transform: initial; margin-left: ${leftMargin}ch;`);\n    }]);\n  }\n\n  _throttledUpdateGfxPositions() {\n    if (this._resizePending !== true) {\n      this._resizePending = true;\n      setTimeout(() => {\n        this._resizePending = false;\n        this.updateGfxPositions();\n      }, 100);\n    }\n  }\n\n  init() {\n    this._element.addEventListener('keydown', evt => this.globalKeyPress(evt));\n    this.prompt.init();\n    this.sendButton.init();\n    this.menuButton.init();\n    this.autoScrollButton.init();\n    this.scrollNotification.init();\n    this._dwst.controller.prompt.silent('/splash');\n    this.prompt.focus();\n    window.addEventListener('resize', () => this._throttledUpdateGfxPositions());\n  }\n\n  onLoad() {\n    this.clock.onLoad();\n    this.updateGfxPositions();\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./dwst/scripts/ui/ui.js","\n/**\n\n  Authors: Toni Ruottu, Finland 2010-2018\n\n  This file is part of Dark WebSocket Terminal.\n\n  CC0 1.0 Universal, http://creativecommons.org/publicdomain/zero/1.0/\n\n  To the extent possible under law, Dark WebSocket Terminal developers have waived all\n  copyright and related or neighboring rights to Dark WebSocket Terminal.\n\n*/\n\nimport renderLogEntry from '../renderers/log_entry.js';\nimport renderGfx from '../renderers/gfx.js';\n\nexport default class Terminal {\n\n  constructor(element, dwst) {\n    this._element = element;\n    this._dwst = dwst;\n    this._limit = 1000;\n  }\n\n  reset() {\n    this._element.innerHTML = '';\n  }\n\n  _addLogItem(logLine) {\n    const userWasScrolling = this._dwst.ui.screen.isUserScrolling();\n    this._element.appendChild(logLine);\n    while (this._element.childElementCount > this._limit) {\n      this._element.removeChild(this._element.firstChild);\n    }\n    if (userWasScrolling) {\n      return;\n    }\n    this._dwst.ui.screen.scrollLog();\n  }\n\n  clearLog() {\n    const logClear = document.createElement('div');\n    logClear.setAttribute('class', 'dwst-log__clear');\n    this._addLogItem(logClear);\n  }\n\n  gfx(lines, colors) {\n    const gfx = renderGfx(lines, colors);\n\n    const item = document.createElement('div');\n    item.setAttribute('class', 'dwst-log__item dwst-log__item--gfx');\n    item.appendChild(gfx);\n\n    this._addLogItem(item);\n    this._dwst.ui.updateGfxPositions();\n  }\n\n  mlog(mlogDescription, type) {\n\n    const logLine = renderLogEntry(mlogDescription, type, this._dwst.controller.link);\n\n    const item = document.createElement('div');\n    item.setAttribute('class', `dwst-log__item dwst-log__item--${type}`);\n    item.appendChild(logLine);\n\n    this._addLogItem(item);\n  }\n\n  log(line, type) {\n    this.mlog([line], type);\n  }\n\n  _hexdump(buffer) {\n    function hexify(num) {\n      const hex = num.toString(16);\n      if (hex.length < 2) {\n        return `0${hex}`;\n      }\n      return hex;\n    }\n    function charify(num) {\n      if (num > 0x7e || num < 0x20) { // non-printable\n        return '.';\n      }\n      return String.fromCharCode(num);\n    }\n    const dv = new DataView(buffer);\n    let offset = 0;\n    const lines = [];\n    while (offset < buffer.byteLength) {\n      let text = '';\n      const hexes = [];\n      for (let i = 0; i < 16; i++) {\n        if (offset < buffer.byteLength) {\n          const oneByte = dv.getUint8(offset);\n          const asChar = charify(oneByte);\n          const asHex = hexify(oneByte);\n          text += asChar;\n          hexes.push(asHex);\n        }\n        offset += 1;\n      }\n      lines.push({\n        text,\n        hexes,\n      });\n\n    }\n    return lines;\n  }\n\n  blog(buffer, type) {\n    const msg = `<${buffer.byteLength}B of binary data>`;\n    const hd = this._hexdump(buffer);\n    const hexLines = hd.map(line => {\n      return {\n        type: 'hexline',\n        text: line.text,\n        hexes: line.hexes,\n      };\n    });\n    this.mlog([msg].concat(hexLines), type);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./dwst/scripts/ui/components/terminal.js","\n/**\n\n  Authors: Toni Ruottu, Finland 2010-2018\n\n  This file is part of Dark WebSocket Terminal.\n\n  CC0 1.0 Universal, http://creativecommons.org/publicdomain/zero/1.0/\n\n  To the extent possible under law, Dark WebSocket Terminal developers have waived all\n  copyright and related or neighboring rights to Dark WebSocket Terminal.\n\n*/\n\nimport renderTime from './time.js';\nimport renderDirection from './direction.js';\nimport renderMlog from './mlog.js';\n\nexport default function renderLogEntry(mlog, type, linkHandlers) {\n  const time = renderTime();\n  const direction = renderDirection(type);\n  const content = renderMlog(mlog, type, linkHandlers);\n\n  const logEntry = document.createElement('span');\n  logEntry.setAttribute('class', 'dwst-log-entry');\n\n  const timeCell = document.createElement('span');\n  timeCell.setAttribute('class', 'dwst-log-entry__time');\n  timeCell.appendChild(time);\n\n  const directionCell = document.createElement('span');\n  directionCell.setAttribute('class', 'dwst-log-entry__direction');\n  directionCell.appendChild(direction);\n\n  const contentCell = document.createElement('span');\n  contentCell.setAttribute('class', 'dwst-log-entry__content');\n  contentCell.appendChild(content);\n\n  logEntry.appendChild(timeCell);\n  logEntry.appendChild(directionCell);\n  logEntry.appendChild(contentCell);\n\n  return logEntry;\n}\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./dwst/scripts/ui/renderers/log_entry.js","\n/**\n\n  Authors: Toni Ruottu, Finland 2010-2018\n\n  This file is part of Dark WebSocket Terminal.\n\n  CC0 1.0 Universal, http://creativecommons.org/publicdomain/zero/1.0/\n\n  To the extent possible under law, Dark WebSocket Terminal developers have waived all\n  copyright and related or neighboring rights to Dark WebSocket Terminal.\n\n*/\n\nexport default function renderDirection(type) {\n\n  const direction = document.createElement('span');\n  direction.setAttribute('class', `dwst-direction dwst-direction--${type}`);\n  direction.innerHTML = `${type}:`;\n\n  return direction;\n\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./dwst/scripts/ui/renderers/direction.js","\n/**\n\n  Authors: Toni Ruottu, Finland 2010-2018\n\n  This file is part of Dark WebSocket Terminal.\n\n  CC0 1.0 Universal, http://creativecommons.org/publicdomain/zero/1.0/\n\n  To the extent possible under law, Dark WebSocket Terminal developers have waived all\n  copyright and related or neighboring rights to Dark WebSocket Terminal.\n\n*/\n\nimport utils from '../../lib/utils.js';\n\n\nexport default function renderMlog(lines, type, linkHandlers) {\n\n  const lineElements = lines.map(rawLine => {\n    let line;\n    if (typeof rawLine === 'string') {\n      line = [rawLine];\n    } else if (typeof rawLine === 'object' && !Array.isArray(rawLine)) {\n      line = [rawLine];\n    } else {\n      line = rawLine;\n    }\n    if (!Array.isArray(line)) {\n      throw new Error('error');\n    }\n    const htmlSegments = line.map(rawSegment => {\n      let segment;\n      if (typeof rawSegment === 'string') {\n        segment = {\n          type: 'regular',\n          text: rawSegment,\n        };\n      } else {\n        segment = rawSegment;\n      }\n      if (typeof segment === 'object') {\n        const rawText = segment.text;\n        const safeText = (() => {\n          if (segment.hasOwnProperty('unsafe') && segment.unsafe === true) {\n            return rawText;\n          }\n          return utils.htmlescape(rawText);\n        })();\n\n        if (segment.type === 'regular') {\n          const textSpan = document.createElement('span');\n          textSpan.innerHTML = safeText;\n          return textSpan;\n        }\n        if (segment.type === 'dwstgg') {\n          const linkWrapper = document.createElement('span');\n          const linkWrapperClasses = ['dwst-mlog__help-link-wrapper'];\n          if (segment.wrap === false) {\n            linkWrapperClasses.push('dwst-mlog__help-link-wrapper--nowrap');\n          }\n          linkWrapper.setAttribute('class', linkWrapperClasses.join(' '));\n          const link = document.createElement('a');\n          const classes = ['dwst-mlog__help-link'];\n          if (segment.spacing === true) {\n            classes.push('dwst-mlog__help-link--spacing');\n          }\n          if (segment.warning === true) {\n            classes.push('dwst-mlog__help-link--warning');\n          }\n          link.setAttribute('class', classes.join(' '));\n          const command = (() => {\n            if (segment.hasOwnProperty('section')) {\n              return `/help ${segment.section}`;\n            }\n            return '/help';\n          })();\n          link.onclick = (evt => {\n            evt.preventDefault();\n            linkHandlers.onHelpLinkClick(command);\n          });\n          link.setAttribute('href', '#');\n          link.setAttribute('title', command);\n          const textSpan = document.createElement('span');\n          textSpan.innerHTML = safeText;\n          link.appendChild(textSpan);\n          linkWrapper.appendChild(link);\n          if (segment.hasOwnProperty('afterText')) {\n            const afterTextNode = document.createTextNode(segment.afterText);\n            linkWrapper.appendChild(afterTextNode);\n          }\n          return linkWrapper;\n        }\n        if (segment.type === 'command') {\n          const link = document.createElement('a');\n          link.setAttribute('class', 'dwst-mlog__command-link');\n          const command = rawText;\n          link.onclick = (evt => {\n            evt.preventDefault();\n            linkHandlers.onCommandLinkClick(command);\n          });\n          link.setAttribute('href', '#');\n          link.setAttribute('title', safeText);\n          const textSpan = document.createElement('span');\n          textSpan.innerHTML = safeText;\n          link.appendChild(textSpan);\n          return link;\n        }\n        if (segment.type === 'hexline') {\n          const hexChunks = utils.chunkify(segment.hexes, 4);\n          const textChunks = utils.chunkify(rawText, 4);\n\n          const byteGrid = document.createElement('span');\n          const byteGridClasses = ['dwst-byte-grid'];\n          if (hexChunks.length < 3) {\n            byteGridClasses.push('dwst-byte-grid--less-than-three');\n          }\n          byteGrid.setAttribute('class', byteGridClasses.join(' '));\n\n          const chunksWanted = 4;\n          const chunkLength = 4;\n          [...Array(chunksWanted).keys()].forEach(i => {\n            const [hexChunk = []] = [hexChunks[i]];\n            const [textChunk = []] = [textChunks[i]];\n\n            const hexContent = utils.htmlescape(hexChunk.join(' '));\n            const hexItem = document.createElement('span');\n            hexItem.setAttribute('class', 'dwst-byte-grid__item');\n            hexItem.innerHTML = hexContent;\n            byteGrid.appendChild(hexItem);\n\n            const textContent = utils.htmlescape(textChunk.join('').padEnd(chunkLength));\n            const textItem = document.createElement('span');\n            textItem.setAttribute('class', 'dwst-byte-grid__item');\n            textItem.innerHTML = textContent;\n            byteGrid.appendChild(textItem);\n          });\n\n          const textSpan = document.createElement('span');\n          textSpan.setAttribute('class', 'dwst-mlog__hexline');\n          textSpan.appendChild(byteGrid);\n          return textSpan;\n        }\n        if (segment.type === 'code') {\n          const textSpan = document.createElement('span');\n          textSpan.setAttribute('class', 'dwst-mlog__code');\n          textSpan.innerHTML = safeText;\n          return textSpan;\n        }\n        if (segment.type === 'control') {\n          const textSpan = document.createElement('span');\n          textSpan.setAttribute('class', 'dwst-mlog__control');\n          textSpan.innerHTML = safeText;\n          textSpan.setAttribute('title', segment.title);\n          return textSpan;\n        }\n        if (segment.type === 'strong') {\n          const textSpan = document.createElement('span');\n          textSpan.setAttribute('class', 'dwst-mlog__strong');\n          textSpan.innerHTML = safeText;\n          return textSpan;\n        }\n        if (segment.type === 'h1') {\n          const textSpan = document.createElement('span');\n          textSpan.setAttribute('class', 'dwst-mlog__h1');\n          textSpan.innerHTML = safeText;\n          return textSpan;\n        }\n        if (segment.type === 'h2') {\n          const textSpan = document.createElement('span');\n          textSpan.setAttribute('class', 'dwst-mlog__h2');\n          textSpan.innerHTML = safeText;\n          return textSpan;\n        }\n        if (segment.type === 'syntax') {\n          const textSpan = document.createElement('span');\n          textSpan.setAttribute('class', 'dwst-mlog__syntax');\n          textSpan.innerHTML = safeText;\n          return textSpan;\n        }\n        if (segment.type === 'link') {\n          const textSpan = document.createElement('a');\n          textSpan.setAttribute('href', segment.url);\n          textSpan.setAttribute('target', '_blank');\n          textSpan.setAttribute('rel', 'noopener');\n          textSpan.setAttribute('class', 'dwst-mlog__link');\n          textSpan.innerHTML = safeText;\n          return textSpan;\n        }\n      }\n      throw new Error('unknown segment type');\n    });\n    return htmlSegments;\n  });\n  const outputCell = document.createElement('span');\n  outputCell.setAttribute('class', 'dwst-mlog');\n  lineElements.forEach(lineElement => {\n    lineElement.forEach(segmentElement => {\n      outputCell.appendChild(segmentElement);\n    });\n    const br = document.createElement('br');\n    br.setAttribute('class', 'dwst-mlog__br');\n    outputCell.appendChild(br);\n  });\n  return outputCell;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./dwst/scripts/ui/renderers/mlog.js","\n/**\n\n  Authors: Toni Ruottu, Finland 2010-2018\n\n  This file is part of Dark WebSocket Terminal.\n\n  CC0 1.0 Universal, http://creativecommons.org/publicdomain/zero/1.0/\n\n  To the extent possible under law, Dark WebSocket Terminal developers have waived all\n  copyright and related or neighboring rights to Dark WebSocket Terminal.\n\n*/\n\nexport default function renderGfx(lines, colors) {\n\n  const gfxContent = document.createElement('div');\n  gfxContent.setAttribute('class', 'dwst-gfx__content');\n  lines.forEach((line, li) => {\n    const logLine = document.createElement('div');\n    logLine.setAttribute('class', 'dwst-gfx__line');\n    [...line].forEach((chr, ci) => {\n      const color = colors[li][ci];\n      const outputCell = document.createElement('span');\n      outputCell.setAttribute('class', `dwst-gfx__element dwst-gfx__element--color-${color}`);\n      outputCell.innerHTML = chr;\n      logLine.appendChild(outputCell);\n    });\n    gfxContent.appendChild(logLine);\n  });\n  const background = document.createElement('div');\n  background.setAttribute('class', 'dwst-gfx__background');\n  const safe = document.createElement('div');\n  safe.setAttribute('class', 'dwst-debug__background-guide');\n  const safeco = document.createElement('div');\n  safeco.setAttribute('class', 'dwst-debug__content-guide');\n  safe.appendChild(safeco);\n  background.appendChild(safe);\n  gfxContent.appendChild(background);\n\n  const gfxContainer = document.createElement('div');\n  gfxContainer.setAttribute('class', 'dwst-gfx');\n  gfxContainer.setAttribute('aria-hidden', 'true');\n  gfxContainer.appendChild(gfxContent);\n\n  return gfxContainer;\n}\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./dwst/scripts/ui/renderers/gfx.js","\n/**\n\n  Authors: Toni Ruottu, Finland 2010-2018\n\n  This file is part of Dark WebSocket Terminal.\n\n  CC0 1.0 Universal, http://creativecommons.org/publicdomain/zero/1.0/\n\n  To the extent possible under law, Dark WebSocket Terminal developers have waived all\n  copyright and related or neighboring rights to Dark WebSocket Terminal.\n\n*/\n\nimport renderTime from '../renderers/time.js';\n\nexport default class Clock {\n\n  constructor(element, dwst) {\n    this._element = element;\n    this._dwst = dwst;\n  }\n\n  refreshClock() {\n    this._element.innerHTML = renderTime(true);\n  }\n\n  startClock() {\n    this.refreshClock();\n    this._element.classList.remove('dwst-time--placeholder');\n    setInterval(() => this.refreshClock(), 500);\n  }\n\n  onLoad() {\n    this.startClock();\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./dwst/scripts/ui/components/clock.js","\n/**\n\n  Authors: Toni Ruottu, Finland 2010-2018\n           William Orr, US 2012\n\n  This file is part of Dark WebSocket Terminal.\n\n  CC0 1.0 Universal, http://creativecommons.org/publicdomain/zero/1.0/\n\n  To the extent possible under law, Dark WebSocket Terminal developers have waived all\n  copyright and related or neighboring rights to Dark WebSocket Terminal.\n\n*/\n\nimport particles from '../../lib/particles.js';\nconst {escapeForParticles} = particles;\n\nexport default class Prompt {\n\n  constructor(element, dwst) {\n    this._element = element;\n    this._dwst = dwst;\n  }\n\n  _enableDebugger() {\n    // TODO: refactor debugger to regular plugin\n    document.documentElement.classList.add('dwst-debug--guides');\n  }\n\n  _showHelpTip() {\n    const helpTip = [\n      'type ',\n      {\n        type: 'command',\n        text: '/help',\n      },\n      ' to list available commands',\n    ];\n    this._dwst.ui.terminal.log(helpTip, 'system');\n  }\n\n  send() {\n    const raw = this._element.value;\n    this._element.value = '';\n    this._dwst.model.history.select(raw);\n    if (raw === '/idkfa') {\n      this._enableDebugger();\n      return;\n    }\n    if (raw.length < 1) {\n      this._showHelpTip();\n      return;\n    }\n    if (raw[0] === '/') {\n      this._dwst.controller.prompt.loud(raw);\n      return;\n    }\n    const text = escapeForParticles(raw);\n    const command = `/send ${text}`;\n    this._dwst.controller.prompt.loud(command);\n  }\n\n  _keyHandler(event) {\n    if (event.keyCode === 13) {\n      this.send();\n    } else if (event.keyCode === 38) { // up\n      this._element.value = this._dwst.model.history.getPrevious(this._element.value);\n      return;\n    } else if (event.keyCode === 40) { // down\n      this._element.value = this._dwst.model.history.getNext(this._element.value);\n      return;\n    }\n  }\n\n  offerConnect() {\n    if (this._element.value === '') {\n      const connects = this._dwst.model.history.getConnectCommands(1);\n      if (connects.length < 1) {\n        this._element.value = `/connect ${this._dwst.model.config.echoServer}`;\n      } else {\n        this._element.value = connects[0];\n      }\n    } else {\n      this._dwst.model.history.select(this._element.value);\n      this._element.value = '';\n    }\n    this._element.focus();\n  }\n\n  init() {\n    this._element.addEventListener('keydown', evt => this._keyHandler(evt));\n  }\n\n  focus() {\n    this._element.focus();\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./dwst/scripts/ui/components/prompt.js","\n/**\n\n  Authors: Toni Ruottu, Finland 2010-2018\n\n  This file is part of Dark WebSocket Terminal.\n\n  CC0 1.0 Universal, http://creativecommons.org/publicdomain/zero/1.0/\n\n  To the extent possible under law, Dark WebSocket Terminal developers have waived all\n  copyright and related or neighboring rights to Dark WebSocket Terminal.\n\n*/\n\nexport default class SendButton {\n\n  constructor(element, dwst) {\n    this._element = element;\n    this._dwst = dwst;\n  }\n\n  init() {\n    this._element.addEventListener('click', () => {\n      this._dwst.ui.prompt.send();\n    });\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./dwst/scripts/ui/components/send_button.js","\n/**\n\n  Authors: Toni Ruottu, Finland 2010-2018\n\n  This file is part of Dark WebSocket Terminal.\n\n  CC0 1.0 Universal, http://creativecommons.org/publicdomain/zero/1.0/\n\n  To the extent possible under law, Dark WebSocket Terminal developers have waived all\n  copyright and related or neighboring rights to Dark WebSocket Terminal.\n\n*/\n\nexport default class MenuButton {\n\n  constructor(element, dwst) {\n    this._element = element;\n    this._dwst = dwst;\n  }\n\n  connected(state) {\n    if (state) {\n      this._element.classList.replace('dwst-button--splash', 'dwst-button--splash-connected');\n    } else {\n      this._element.classList.replace('dwst-button--splash-connected', 'dwst-button--splash');\n    }\n  }\n\n  init() {\n    this._element.addEventListener('click', () => {\n      this._dwst.controller.prompt.loud('/splash');\n      this._dwst.ui.screen.scrollLog();\n    });\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./dwst/scripts/ui/components/menu_button.js","\n/**\n\n  Authors: Toni Ruottu, Finland 2010-2018\n\n  This file is part of Dark WebSocket Terminal.\n\n  CC0 1.0 Universal, http://creativecommons.org/publicdomain/zero/1.0/\n\n  To the extent possible under law, Dark WebSocket Terminal developers have waived all\n  copyright and related or neighboring rights to Dark WebSocket Terminal.\n\n*/\n\nexport default class Screen {\n\n  constructor(element, dwst) {\n    this._element = element;\n    this._dwst = dwst;\n  }\n\n  isUserScrolling() {\n    const errorMargin = 1;\n    // Some device pixel ratios create problems when errorMargin < 1.\n    // Try to use Windows 10 with 125%, 175% and 225% scaling.\n    const contentHeight = this._element.scrollHeight;\n    const visible = this._element.offsetHeight;\n    const invisible = contentHeight - visible;\n    const invisibleAbove = this._element.scrollTop;\n    const invisibleBelow = invisible - invisibleAbove;\n    return invisibleBelow > errorMargin;\n  }\n\n  scrollLog() {\n    this._element.scrollTop = this._element.scrollHeight;\n    this._dwst.ui.scrollNotification.hideScrollNotification();\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./dwst/scripts/ui/components/screen.js","\n/**\n\n  Authors: Toni Ruottu, Finland 2010-2018\n\n  This file is part of Dark WebSocket Terminal.\n\n  CC0 1.0 Universal, http://creativecommons.org/publicdomain/zero/1.0/\n\n  To the extent possible under law, Dark WebSocket Terminal developers have waived all\n  copyright and related or neighboring rights to Dark WebSocket Terminal.\n\n*/\n\nexport default class AutoScrollButton {\n\n  constructor(element, dwst) {\n    this._element = element;\n    this._dwst = dwst;\n  }\n\n  init() {\n    this._element.addEventListener('click', evt => {\n      evt.preventDefault();\n      this._dwst.ui.screen.scrollLog();\n    });\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./dwst/scripts/ui/components/auto_scroll_button.js","\n/**\n\n  Authors: Toni Ruottu, Finland 2010-2018\n\n  This file is part of Dark WebSocket Terminal.\n\n  CC0 1.0 Universal, http://creativecommons.org/publicdomain/zero/1.0/\n\n  To the extent possible under law, Dark WebSocket Terminal developers have waived all\n  copyright and related or neighboring rights to Dark WebSocket Terminal.\n\n*/\n\nexport default class ScrollNotification {\n\n  constructor(element, dwst) {\n    this._element = element;\n    this._dwst = dwst;\n  }\n\n  scrollNotificationUpdate() {\n    if (this._dwst.ui.screen.isUserScrolling()) {\n      this.showScrollNotification();\n      return;\n    }\n    this.hideScrollNotification();\n  }\n\n  showScrollNotification() {\n    this._element.removeAttribute('style');\n  }\n\n  hideScrollNotification() {\n    this._element.setAttribute('style', 'display: none;');\n  }\n\n  init() {\n    setInterval(() => this.scrollNotificationUpdate(), 1000);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./dwst/scripts/ui/components/scroll_notification.js","\n/**\n\n  Authors: Toni Ruottu, Finland 2010-2018\n\n  This file is part of Dark WebSocket Terminal.\n\n  CC0 1.0 Universal, http://creativecommons.org/publicdomain/zero/1.0/\n\n  To the extent possible under law, Dark WebSocket Terminal developers have waived all\n  copyright and related or neighboring rights to Dark WebSocket Terminal.\n\n*/\n\nexport default class FileInput {\n\n  constructor(element, dwst) {\n    this._element = element;\n    this._dwst = dwst;\n  }\n\n  read(callback) {\n    const upload = this._element.getElementsByTagName('input')[0];\n    upload.onchange = () => {\n      const file = upload.files[0];\n      this._element.innerHTML = this._element.innerHTML;\n      callback(file);\n    };\n    upload.click();\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./dwst/scripts/ui/components/file_input.js","\n/**\n\n  Authors: Toni Ruottu, Finland 2010-2018\n\n  This file is part of Dark WebSocket Terminal.\n\n  CC0 1.0 Universal, http://creativecommons.org/publicdomain/zero/1.0/\n\n  To the extent possible under law, Dark WebSocket Terminal developers have waived all\n  copyright and related or neighboring rights to Dark WebSocket Terminal.\n\n*/\n\nimport LinkHandler from './link.js';\nimport PromptHandler from './prompt.js';\nimport SocketHandler from './socket.js';\nimport ErrorHandler from './error.js';\nimport PwaHandler from './pwa.js';\n\nexport default class Controller {\n\n  constructor(dwst) {\n    this.link = new LinkHandler(dwst);\n    this.prompt = new PromptHandler(dwst);\n    this.socket = new SocketHandler(dwst);\n    this.error = new ErrorHandler(dwst);\n    this.pwa = new PwaHandler(dwst);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./dwst/scripts/controller/controller.js","\n/**\n\n  Authors: Toni Ruottu, Finland 2010-2018\n\n  This file is part of Dark WebSocket Terminal.\n\n  CC0 1.0 Universal, http://creativecommons.org/publicdomain/zero/1.0/\n\n  To the extent possible under law, Dark WebSocket Terminal developers have waived all\n  copyright and related or neighboring rights to Dark WebSocket Terminal.\n\n*/\n\nexport default class LinkHandler {\n\n  constructor(dwst) {\n    this._dwst = dwst;\n  }\n\n  onHelpLinkClick(command) {\n    this._dwst.controller.prompt.loud(command);\n  }\n\n  onCommandLinkClick(command) {\n    this._dwst.model.history.select(command);\n    this._dwst.controller.prompt.loud(command);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./dwst/scripts/controller/link.js","\n/**\n\n  Authors: Toni Ruottu, Finland 2010-2018\n\n  This file is part of Dark WebSocket Terminal.\n\n  CC0 1.0 Universal, http://creativecommons.org/publicdomain/zero/1.0/\n\n  To the extent possible under law, Dark WebSocket Terminal developers have waived all\n  copyright and related or neighboring rights to Dark WebSocket Terminal.\n\n*/\n\nexport default class PromptHandler {\n\n  constructor(dwst) {\n    this._dwst = dwst;\n  }\n\n  run(command) {\n    const [pluginName, ...params] = command.split(' ');\n    const paramString = params.join(' ');\n\n    const plugin = this._dwst.plugins.getPlugin(pluginName);\n    if (plugin === null) {\n      throw new this._dwst.lib.errors.UnknownCommand(pluginName);\n    }\n    plugin.run(paramString);\n  }\n\n  silent(line) {\n    const noslash = line.substring(1);\n    this.run(noslash);\n  }\n\n  loud(line) {\n    this._dwst.ui.terminal.log(line, 'command');\n    this.silent(line);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./dwst/scripts/controller/prompt.js","\n/**\n\n  Authors: Toni Ruottu, Finland 2010-2018\n\n  This file is part of Dark WebSocket Terminal.\n\n  CC0 1.0 Universal, http://creativecommons.org/publicdomain/zero/1.0/\n\n  To the extent possible under law, Dark WebSocket Terminal developers have waived all\n  copyright and related or neighboring rights to Dark WebSocket Terminal.\n\n*/\n\nimport parseControlChars from '../lib/control.js';\n\nfunction partToMlog(part) {\n  const text = (() => {\n    if (part.nice !== null) {\n      return part.nice;\n    }\n    const charCode = part.chr.charCodeAt(0);\n    if (charCode < 0x80) {\n      const charHex = `0${charCode.toString(16)}`.slice(-2);\n      return `\\\\x${charHex}`;\n    }\n    return `\\\\u{${charCode.toString(16)}}`;\n  })();\n  const title = `${text} - ${part.name} (${part.abbr})`;\n  return {\n    type: 'control',\n    text,\n    title,\n  };\n}\n\nfunction createLines(mlogItems) {\n  const CR = '\\\\r';\n  const LF = '\\\\n';\n  const lines = [];\n  let line = [];\n  let previous = null;\n  for (const part of mlogItems) {\n    if (previous === null) {\n      line.push(part);\n      if (typeof part === 'object') {\n        if (part.text === CR) {\n          previous = CR;\n        }\n        if (part.text === LF) {\n          previous = LF;\n        }\n      }\n    } else if (previous === CR) {\n      if (typeof part === 'string') {\n        lines.push(line);\n        line = [];\n        line.push(part);\n        previous = null;\n      } else  if (part.text === CR) {\n        lines.push(line);\n        line = [];\n        line.push(part);\n        previous = CR;\n      } else if (part.text === LF) {\n        line.push(part);\n        lines.push(line);\n        line = [];\n        previous = null;\n      } else {\n        lines.push(line);\n        line = [];\n        line.push(part);\n        previous = null;\n      }\n    } else if (previous === LF) {\n      if (typeof part === 'string') {\n        lines.push(line);\n        line = [];\n        line.push(part);\n        previous = null;\n      } else  if (part.text === CR) {\n        line.push(part);\n        lines.push(line);\n        line = [];\n        previous = null;\n      } else if (part.text === LF) {\n        lines.push(line);\n        line = [];\n        line.push(part);\n        previous = LF;\n      } else {\n        lines.push(line);\n        line = [];\n        line.push(part);\n        previous = null;\n      }\n    }\n  }\n  lines.push(line);\n  return lines;\n}\n\nfunction hilightControlChars(msg) {\n  const parts = parseControlChars(msg);\n  const mlogItems = parts.map(part => {\n    if (typeof part === 'object') {\n      return partToMlog(part);\n    }\n    return part;\n  });\n  const lines = createLines(mlogItems);\n  return lines;\n}\n\nexport default class SocketHandler {\n\n  constructor(dwst) {\n    this._dwst = dwst;\n  }\n\n  onConnectionOpen(protocol) {\n    const selected = (() => {\n      if (protocol.length < 1) {\n        return [];\n      }\n      return [`Selected protocol: ${protocol}`];\n    })();\n    this._dwst.ui.terminal.mlog(['Connection established.'].concat(selected), 'system');\n    this._dwst.ui.menuButton.connected(true);\n  }\n\n  onConnectionClose(e, sessionLength) {\n    const meanings = {\n      1000: 'Normal Closure',\n      1001: 'Going Away',\n      1002: 'Protocol error',\n      1003: 'Unsupported Data',\n      1005: 'No Status Rcvd',\n      1006: 'Abnormal Closure',\n      1007: 'Invalid frame payload data',\n      1008: 'Policy Violation',\n      1009: 'Message Too Big',\n      1010: 'Mandatory Ext.',\n      1011: 'Internal Server Error',\n      1015: 'TLS handshake',\n    };\n    const code = (() => {\n      if (meanings.hasOwnProperty(e.code)) {\n        return `${e.code} (${meanings[e.code]})`;\n      }\n      return `${e.code}`;\n    })();\n    const reason = (() => {\n      if (e.reason.length < 1) {\n        return [];\n      }\n      return [`Close reason: ${e.reason}`];\n    })();\n    const sessionLengthString = (() => {\n      if (sessionLength === null) {\n        return [];\n      }\n      return [`Session length: ${sessionLength}ms`];\n    })();\n    this._dwst.ui.terminal.mlog(['Connection closed.', `Close status: ${code}`].concat(reason).concat(sessionLengthString), 'system');\n    this._dwst.model.connection = null;\n    this._dwst.ui.menuButton.connected(false);\n  }\n\n  onMessage(msg) {\n    if (typeof msg === 'string') {\n      this._dwst.ui.terminal.mlog(hilightControlChars(msg), 'received');\n    } else {\n      const fr = new FileReader();\n      fr.addEventListener('load', evt => {\n        const buffer = evt.target.result;\n        this._dwst.ui.terminal.blog(buffer, 'received');\n      });\n      fr.readAsArrayBuffer(msg);\n    }\n  }\n\n  onError() {\n    this._dwst.ui.terminal.log('WebSocket error.', 'error');\n  }\n\n  beforeSendWhileConnecting(verb) {\n    this._dwst.ui.terminal.log(`Attempting to send data while ${verb}`, 'warning');\n  }\n\n  onSend(msg) {\n    if (typeof msg === 'string') {\n      this._dwst.ui.terminal.mlog(hilightControlChars(msg), 'sent');\n    } else {\n      this._dwst.ui.terminal.blog(msg, 'sent');\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./dwst/scripts/controller/socket.js","\n/**\n\n  Authors: Toni Ruottu, Finland 2010-2018\n\n  This file is part of Dark WebSocket Terminal.\n\n  CC0 1.0 Universal, http://creativecommons.org/publicdomain/zero/1.0/\n\n  To the extent possible under law, Dark WebSocket Terminal developers have waived all\n  copyright and related or neighboring rights to Dark WebSocket Terminal.\n\n*/\n\nimport Parsee from './_parsee.js';\n\nconst controlCharNames = {\n\n  // C0 Controls\n\n  '\\x00': ['\\\\0', 'NUL', 'null terminator'],\n  '\\x01': [null, 'SOH', 'start of heading'],\n  '\\x02': [null, 'STX', 'start of text'],\n  '\\x03': [null, 'ETX', 'end of text'],\n  '\\x04': [null, 'EOT', 'end of transmission'],\n  '\\x05': [null, 'ENQ', 'enquiry'],\n  '\\x06': [null, 'ACK', 'acknowledge'],\n  '\\x07': [null, 'BEL', 'bell'],\n  '\\x08': [null, 'BS', 'backspace'],\n  '\\x09': [null, 'HT', 'horizontal tabulation'],\n  '\\x0a': ['\\\\n', 'LF', 'line feed'],\n  '\\x0b': [null, 'VT', 'vertical tabulation'],\n  '\\x0c': [null, 'FF', 'form feed'],\n  '\\x0d': ['\\\\r', 'CR', 'carriage return'],\n  '\\x0e': [null, 'SO', 'shift out'],\n  '\\x0f': [null, 'SI', 'shift in'],\n  '\\x10': [null, 'DLE', 'data link escape'],\n  '\\x11': [null, 'DC1', 'device control one'],\n  '\\x12': [null, 'DC2', 'device control two'],\n  '\\x13': [null, 'DC3', 'device control three'],\n  '\\x14': [null, 'DC4', 'device control four'],\n  '\\x15': [null, 'NAK', 'negative acknowledge'],\n  '\\x16': [null, 'SYN', 'synchronous idle'],\n  '\\x17': [null, 'ETB', 'end of transmission block'],\n  '\\x18': [null, 'CAN', 'cancel'],\n  '\\x19': [null, 'EM', 'end of medium'],\n  '\\x1a': [null, 'SUB', 'substitute'],\n  '\\x1b': [null, 'ESC', 'escape'],\n  '\\x1c': [null, 'FS', 'file separator'],\n  '\\x1d': [null, 'GS', 'group separator'],\n  '\\x1e': [null, 'RS', 'record separator'],\n  '\\x1f': [null, 'US', 'unit separator'],\n  '\\x7f': [null, 'DEL', 'delete'],\n\n  // C1 Controls\n\n  '\\x80': [null, 'XXX', '<control>'],\n  '\\x81': [null, 'XXX', '<control>'],\n  '\\x82': [null, 'BPH', 'break permitted here'],\n  '\\x83': [null, 'NBH', 'no break here'],\n  '\\x84': [null, 'IND', 'index'],\n  '\\x85': [null, 'NEL', 'next line'],\n  '\\x86': [null, 'SSA', 'start of selected area'],\n  '\\x87': [null, 'ESA', 'end of selected area'],\n  '\\x88': [null, 'HTS', 'character tabulation set'],\n  '\\x89': [null, 'HTJ', 'character tabulation with justification'],\n  '\\x8a': [null, 'VTS', 'line tabulation set'],\n  '\\x8b': [null, 'PLD', 'partial line forward'],\n  '\\x8c': [null, 'PLU', 'partial line backward'],\n  '\\x8d': [null, 'RI', 'reverse line feed'],\n  '\\x8e': [null, 'SS2', 'single shift two'],\n  '\\x8f': [null, 'SS3', 'single shift three'],\n  '\\x90': [null, 'DCS', 'device control string'],\n  '\\x91': [null, 'PU1', 'private use one'],\n  '\\x92': [null, 'PU2', 'private use two'],\n  '\\x93': [null, 'STS', 'set transmit state'],\n  '\\x94': [null, 'CCH', 'cancel character'],\n  '\\x95': [null, 'MW', 'message waiting'],\n  '\\x96': [null, 'SPA', 'start of guarded area'],\n  '\\x97': [null, 'EPA', 'end of guarded area'],\n  '\\x98': [null, 'SOS', 'start of string'],\n  '\\x99': [null, 'XXX', '<control>'],\n  '\\x9a': [null, 'SCI', 'single character introducer'],\n  '\\x9b': [null, 'CSI', 'control sequence introducer'],\n  '\\x9c': [null, 'ST', 'string terminator'],\n  '\\x9d': [null, 'OSC', 'operating system command'],\n  '\\x9e': [null, 'PM', 'privacy message'],\n  '\\x9f': [null, 'APC', 'application program command'],\n\n  // invisible Latin-1\n\n  '\\xa0': [null, 'NBSP', 'no-break space'],\n  '\\xad': [null, 'SHY', 'soft hyphen'],\n\n};\n\nconst controlChars = Object.keys(controlCharNames);\n\nfunction readOne(parsee) {\n  for (const [chr, [nice, abbr, name]] of Object.entries(controlCharNames)) {\n    if (parsee.read(chr)) {\n      return {\n        chr,\n        nice,\n        abbr,\n        name,\n      };\n    }\n  }\n  return parsee.readUntil(controlChars);\n}\n\nexport default function parseControlChars(msg) {\n  const parts = [];\n  const parsee = new Parsee(msg);\n  while (parsee.length > 0) {\n    const part = readOne(parsee);\n    parts.push(part);\n  }\n  return parts;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./dwst/scripts/lib/control.js","/**\n\n  Authors: Toni Ruottu, Finland 2010-2018\n\n  This file is part of Dark WebSocket Terminal.\n\n  CC0 1.0 Universal, http://creativecommons.org/publicdomain/zero/1.0/\n\n  To the extent possible under law, Dark WebSocket Terminal developers have waived all\n  copyright and related or neighboring rights to Dark WebSocket Terminal.\n\n*/\n\nimport errors from '../lib/errors.js';\nconst {NoConnection, AlreadyConnected, SocketError, InvalidParticles, InvalidArgument, InvalidCombination, UnknownCommand, UnknownInstruction, UnknownHelpPage, UnknownText, UnknownBinary} = errors;\n\nfunction commaCommaOr(stringList) {\n  if (stringList.length === 0) {\n    throw new Error('list has to have at least one item');\n  }\n  if (stringList.length === 1) {\n    return stringList[0];\n  }\n  const last = stringList[stringList.length - 1];\n  const listExcludingLast = stringList.slice(0, stringList.length - 1);\n  const upToSecondLastJoined = listExcludingLast.join(', ');\n  return `${upToSecondLastJoined} or ${last}`;\n}\n\nexport default class ErrorHandler {\n\n  constructor(dwst) {\n    this._dwst = dwst;\n  }\n\n  _errorToMLog(error) {\n    if (error instanceof NoConnection) {\n      const connectTip = [\n        'Use ',\n        {\n          type: 'dwstgg',\n          text: 'connect',\n          section: 'connect',\n        },\n        ' to form a connection and try again.',\n      ];\n      return ['No connection.', `Cannot send: ${error.msg}`, connectTip];\n    }\n    if (error instanceof AlreadyConnected) {\n      return [\n        'Already connected to a server',\n        [\n          'Type ',\n          {\n            type: 'command',\n            text: '/disconnect',\n          },\n          ' to end the connection',\n        ],\n      ];\n    }\n    if (error instanceof SocketError) {\n      return ['WebSocket error.'];\n    }\n    if (error instanceof InvalidParticles) {\n      const padding = ' '.repeat(error.errorPosition);\n      const expected = commaCommaOr(error.expected);\n      const got = error.remainder.charAt(0);\n      return [\n        'Invalid template.',\n        error.expression,\n        `${padding}^`,\n        `Expected ${expected}, but got \"${got}\" instead.`,\n      ];\n    }\n    if (error instanceof InvalidArgument) {\n      return [`Invalid argument: ${error.argument}`, error.extraInfo];\n    }\n    if (error instanceof InvalidCombination) {\n      return [\n        [\n          'Invalid ',\n          {\n            type: 'dwstgg',\n            text: error.command,\n            section: error.command,\n          },\n          ' command combination.',\n        ],\n        [\n          'Compatible commands: ',\n          error.commands.join(', '),\n        ],\n      ];\n    }\n    if (error instanceof UnknownCommand) {\n      return [\n        [\n          'Unknown command ',\n          {\n            type: 'strong',\n            text: error.command,\n          },\n        ],\n        [\n          'Type ',\n          {\n            type: 'command',\n            text: '/help #commands',\n          },\n          ' to list available commands',\n        ],\n      ];\n    }\n    if (error instanceof UnknownInstruction) {\n      return [\n        [\n          'Unknown function ',\n          {\n            type: 'strong',\n            text: error.instruction,\n          },\n        ],\n        [\n          'Type ',\n          {\n            type: 'command',\n            text: '/help #functions',\n          },\n          ' to list available functions',\n        ],\n      ];\n    }\n    if (error instanceof UnknownHelpPage) {\n      const listTip = [\n        'Display help index by typing ',\n        {\n          type: 'command',\n          text: '/help',\n        },\n      ];\n      return [`Unkown help page: ${error.page}`, listTip];\n    }\n    if (error instanceof UnknownText) {\n      const listTip = [\n        'List available texts by typing ',\n        {\n          type: 'command',\n          text: '/texts',\n        },\n      ];\n      return [`Text \"${error.variable}\" does not exist.`, listTip];\n    }\n    if (error instanceof UnknownBinary) {\n      const listTip = [\n        'List available binaries by typing ',\n        {\n          type: 'command',\n          text: '/bins',\n        },\n      ];\n      return [`Binary \"${error.variable}\" does not exist.`, listTip];\n    }\n\n    throw new Error(`missing error handler for ${error.constructor.name}`);\n  }\n\n  onDwstError(error) {\n    this._dwst.ui.terminal.mlog(this._errorToMLog(error), 'error');\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./dwst/scripts/controller/error.js","\n/**\n\n  Authors: Toni Ruottu, Finland 2018\n\n  This file is part of Dark WebSocket Terminal.\n\n  CC0 1.0 Universal, http://creativecommons.org/publicdomain/zero/1.0/\n\n  To the extent possible under law, Dark WebSocket Terminal developers have waived all\n  copyright and related or neighboring rights to Dark WebSocket Terminal.\n\n*/\n\nexport default class PwaHandler {\n\n  constructor(dwst) {\n    this._dwst = dwst;\n    this._prompt = null;\n  }\n\n  beforeInstallPrompt(evt) {\n    this._prompt = evt;\n    this._dwst.ui.terminal.mlog([\n      [\n        'Type ',\n        {\n          type: 'command',\n          text: '/pwa install',\n        },\n        ' to install',\n      ],\n    ], 'system');\n  }\n\n  onInstall() {\n    if (this._prompt === null) {\n      this._dwst.ui.terminal.mlog([\n        'Installation not possible',\n        '',\n        'Possible reasons:',\n        '  * App already installed',\n        '  * App not frequently used',\n        '  * Browser has no PWA support',\n        '',\n        'You could try manual pwa installation with \"Add to home screen\" or similar browser feature',\n      ], 'warning');\n      return;\n    }\n    this._prompt.prompt();\n    this._prompt = null;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./dwst/scripts/controller/pwa.js","\n/**\n\n  Authors: Toni Ruottu, Finland 2010-2018\n\n  This file is part of Dark WebSocket Terminal.\n\n  CC0 1.0 Universal, http://creativecommons.org/publicdomain/zero/1.0/\n\n  To the extent possible under law, Dark WebSocket Terminal developers have waived all\n  copyright and related or neighboring rights to Dark WebSocket Terminal.\n\n*/\n\nexport default class Plugins {\n\n  constructor(dwst, pluginClasses) {\n    this._commands = new Map();\n    for (const Constructor of pluginClasses) {\n      const plugin = new Constructor(dwst);\n      for (const command of plugin.commands()) {\n        this._commands.set(command, plugin);\n      }\n    }\n  }\n\n  getPlugin(pluginName) {\n    const plugin = this._commands.get(pluginName);\n    if (typeof plugin === 'undefined') {\n      return null;\n    }\n    return plugin;\n  }\n\n  getNames() {\n    return [...this._commands.keys()];\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./dwst/scripts/model/plugins.js","\n/**\n\n  Authors: Toni Ruottu, Finland 2010-2018\n\n  This file is part of Dark WebSocket Terminal.\n\n  CC0 1.0 Universal, http://creativecommons.org/publicdomain/zero/1.0/\n\n  To the extent possible under law, Dark WebSocket Terminal developers have waived all\n  copyright and related or neighboring rights to Dark WebSocket Terminal.\n\n*/\n\nexport default class Functions {\n\n  constructor(dwst, functionClasses) {\n    this._commands = new Map();\n    for (const Constructor of functionClasses) {\n      const func = new Constructor(dwst);\n      for (const name of func.commands()) {\n        this._commands.set(name, func);\n      }\n    }\n  }\n\n  getFunction(functionName) {\n    const func = this._commands.get(functionName);\n    if (typeof func === 'undefined') {\n      return null;\n    }\n    return func;\n  }\n\n  getNames() {\n    return [...this._commands.keys()];\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./dwst/scripts/model/functions.js","\n/**\n\n  Authors: Toni Ruottu, Finland 2010-2018\n\n  This file is part of Dark WebSocket Terminal.\n\n  CC0 1.0 Universal, http://creativecommons.org/publicdomain/zero/1.0/\n\n  To the extent possible under law, Dark WebSocket Terminal developers have waived all\n  copyright and related or neighboring rights to Dark WebSocket Terminal.\n\n*/\n\nfunction joinBuffers(buffersToJoin) {\n  let total = 0;\n  for (const buffer of buffersToJoin) {\n    total += buffer.length;\n  }\n  const out = new Uint8Array(total);\n  let offset = 0;\n  for (const buffer of buffersToJoin) {\n    out.set(buffer, offset);\n    offset += buffer.length;\n  }\n  return out.buffer;\n}\n\nexport default class Binary {\n\n  constructor(dwst) {\n    this._dwst = dwst;\n  }\n\n  commands() {\n    return ['binary', 'b'];\n  }\n\n  usage() {\n    return [\n      '/binary [template]',\n      '/b [template]',\n    ];\n  }\n\n  examples() {\n    return [\n      '/binary Hello world!',\n      '/binary [\"JSON\",\"is\",\"cool\"]',\n      '/binary multiline\\\\r\\\\nmessage',\n      '/binary null terminated string\\\\0one more\\\\0',\n      '/binary tab\\\\x09separated\\\\x09strings',\n      '/binary unicode snowman \\\\u2603',\n      '/binary unicode tea cup \\\\u{1f375}',\n      '/b Available now with ~71.43% less typing!',\n    ];\n  }\n\n  info() {\n    return 'send binary data';\n  }\n\n  _process(instr, params) {\n    if (instr === 'default') {\n      return params[0];\n    }\n    const func = this._dwst.functions.getFunction(instr);\n    if (func === null) {\n      throw new this._dwst.lib.errors.UnknownInstruction(instr);\n    }\n    return func.run(params);\n  }\n\n  run(paramString) {\n    const parsed = this._dwst.lib.particles.parseParticles(paramString);\n    const processed = parsed.map(particle => {\n      const [instruction, ...args] = particle;\n      const textOrBinary = this._process(instruction, args);\n      if (textOrBinary.constructor === Uint8Array) {\n        return textOrBinary;\n      }\n      const binary = new TextEncoder().encode(textOrBinary);\n      return binary;\n    });\n    const out = joinBuffers(processed);\n\n    const msg = `<${out.byteLength}B of data> `;\n    const connection = this._dwst.model.connection;\n    if (connection === null || connection.isClosing() || connection.isClosed()) {\n      throw new this._dwst.lib.errors.NoConnection(msg);\n    }\n    this._dwst.model.connection.send(out);\n  }\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./dwst/scripts/plugins/binary.js","\n/**\n\n  Authors: Toni Ruottu, Finland 2010-2018\n\n  This file is part of Dark WebSocket Terminal.\n\n  CC0 1.0 Universal, http://creativecommons.org/publicdomain/zero/1.0/\n\n  To the extent possible under law, Dark WebSocket Terminal developers have waived all\n  copyright and related or neighboring rights to Dark WebSocket Terminal.\n\n*/\n\nexport default class Bins {\n\n  constructor(dwst) {\n    this._dwst = dwst;\n  }\n\n  commands() {\n    return ['bins'];\n  }\n\n  usage() {\n    return [\n      '/bins [name]',\n    ];\n  }\n\n  examples() {\n    return [\n      '/bins',\n      '/bins default',\n    ];\n  }\n\n  info() {\n    return 'list loaded binaries';\n  }\n\n  _run(variable = null) {\n    if (variable !== null) {\n      const buffer = this._dwst.model.bins.get(variable);\n      if (typeof buffer !== 'undefined') {\n        this._dwst.ui.terminal.blog(buffer, 'system');\n        return;\n      }\n      throw new this._dwst.lib.errors.UnknownBinary(variable);\n    }\n    const listing = [...this._dwst.model.bins.entries()].map(([name, buffer]) => {\n      return `\"${name}\": <${buffer.byteLength}B of binary data>`;\n    });\n    const strs = ['Loaded binaries:'].concat(listing);\n    this._dwst.ui.terminal.mlog(strs, 'system');\n  }\n\n  run(paramString) {\n    if (paramString.length < 1) {\n      this._run();\n      return;\n    }\n    const params = paramString.split(' ');\n    this._run(...params);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./dwst/scripts/plugins/bins.js","\n/**\n\n  Authors: Toni Ruottu, Finland 2010-2018\n\n  This file is part of Dark WebSocket Terminal.\n\n  CC0 1.0 Universal, http://creativecommons.org/publicdomain/zero/1.0/\n\n  To the extent possible under law, Dark WebSocket Terminal developers have waived all\n  copyright and related or neighboring rights to Dark WebSocket Terminal.\n\n*/\n\nexport default class Clear {\n\n  constructor(dwst) {\n    this._dwst = dwst;\n  }\n\n  commands() {\n    return ['clear'];\n  }\n\n  usage() {\n    return [\n      '/clear',\n    ];\n  }\n\n  examples() {\n    return [\n      '/clear',\n    ];\n  }\n\n  info() {\n    return 'clear the screen';\n  }\n\n  run() {\n    this._dwst.ui.terminal.clearLog();\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./dwst/scripts/plugins/clear.js","\n/**\n\n  Authors: Toni Ruottu, Finland 2010-2018\n\n  This file is part of Dark WebSocket Terminal.\n\n  CC0 1.0 Universal, http://creativecommons.org/publicdomain/zero/1.0/\n\n  To the extent possible under law, Dark WebSocket Terminal developers have waived all\n  copyright and related or neighboring rights to Dark WebSocket Terminal.\n\n*/\n\nimport Connection from '../connection.js';\n\nexport default class Connect {\n\n  constructor(dwst) {\n    this._dwst = dwst;\n  }\n\n  commands() {\n    return ['connect'];\n  }\n\n  usage() {\n    return [\n      '/connect <ws-url> [p1[,p2[,...]]]',\n    ];\n  }\n\n  examples() {\n    return [\n      '/connect wss://echo.websocket.org/',\n      '/connect ws://echo.websocket.org/',\n      '/connect ws://127.0.0.1:1234/ protocol1.example.com,protocol2.example.com',\n    ];\n  }\n\n  info() {\n    return 'connect to a server';\n  }\n\n  _run(url, protocolString = '') {\n    if (this._dwst.model.connection !== null) {\n      throw new this._dwst.lib.errors.AlreadyConnected();\n    }\n    const protoCandidates = (() => {\n      if (protocolString === '') {\n        return [];\n      }\n      return protocolString.split(',');\n    })();\n    const protocols = protoCandidates.filter(protocolName => {\n\n      // https://tools.ietf.org/html/rfc6455#page-17\n\n      const basicAlphabet = this._dwst.lib.utils.range(0x21, 0x7e).map(charCode => String.fromCharCode(charCode));\n      const httpSeparators = new Set([...'()<>@,;:\\\\\"/[]?={} \\t']);\n      const validProtocolChars = new Set(basicAlphabet.filter(character => !httpSeparators.has(character)));\n      const usedChars = [...protocolName];\n      const invalidCharsSet = new Set(usedChars.filter(character => !validProtocolChars.has(character)));\n      const invalidChars = [...invalidCharsSet];\n      if (invalidChars.length > 0) {\n        const invalidCharsString = invalidChars.map(character => `\"${character}\"`).join(', ');\n        this._dwst.ui.terminal.mlog([`Skipped invalid protocol candidate \"${protocolName}\".`, `The following characters are not allowed: ${invalidCharsString}`], 'warning');\n        return false;\n      }\n      return true;\n    });\n    if (self.origin.startsWith('https://') && url.startsWith('ws://')) {\n      const secureUrl = `wss://${url.slice('ws://'.length)}`;\n      this._dwst.ui.terminal.mlog([\n        [\n          'Attempting unprotected connection from a secure origin. ',\n          'See ',\n          {\n            type: 'dwstgg',\n            text: '#unprotected',\n            section: '#unprotected',\n          },\n          ' for details. Consider using ',\n          {\n            type: 'command',\n            text: `/connect ${secureUrl} ${protocolString}`,\n          },\n        ],\n      ], 'warning');\n    }\n    this._dwst.model.connection = new Connection(url, protocols, this._dwst.controller.socket);\n    const protoFormatted = protocols.join(', ');\n    const negotiation = (() => {\n      if (protocols.length < 1) {\n        return ['No protocol negotiation.'];\n      }\n      return [`Accepted protocols: ${protoFormatted}`];\n    })();\n    this._dwst.ui.terminal.mlog([`Connecting to ${this._dwst.model.connection.url}`].concat(negotiation), 'system');\n  }\n\n  run(paramString) {\n    if (paramString.length < 1) {\n      this._run();\n      return;\n    }\n    const params = paramString.split(' ');\n    this._run(...params);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./dwst/scripts/plugins/connect.js","\n/**\n\n  Authors: Toni Ruottu, Finland 2010-2018\n\n  This file is part of Dark WebSocket Terminal.\n\n  CC0 1.0 Universal, http://creativecommons.org/publicdomain/zero/1.0/\n\n  To the extent possible under law, Dark WebSocket Terminal developers have waived all\n  copyright and related or neighboring rights to Dark WebSocket Terminal.\n\n*/\n\nclass FakeSocket {\n  constructor(url) {\n    this.url = url;\n    this.protocol = '';\n    this.readyState = 1;\n    this._path = url.split('//').pop();\n    this._nextFlood = null;\n    window.setTimeout(() => {\n      this.onopen();\n      if (this._path === 'flood') {\n        this._flood(0);\n      }\n    }, 0);\n  }\n\n  _flood(count) {\n    this._nextFlood = window.setTimeout(() => {\n      this.onmessage({\n        data: `${count}`,\n      });\n      this._flood(count + 1);\n    }, 0);\n  }\n\n  send(message) {\n    if (this._path === 'echo') {\n      const data = (() => {\n        if (typeof message === 'string') {\n          return message;\n        }\n        if (message instanceof ArrayBuffer) {\n          return new Blob([new Uint8Array(message)]);\n        }\n        throw new Error('Unexpected message type');\n      })();\n      window.setTimeout(() => {\n        this.onmessage({\n          data,\n        });\n      }, 0);\n    }\n  }\n\n  close() {\n    window.clearTimeout(this._nextFlood);\n    this.readyState = 3;\n    this.onclose({\n      code: 1000,\n      reason: '',\n    });\n  }\n}\n\nexport default class Connection {\n\n  constructor(url, protocols = [], controller) {\n    this._controller = controller;\n    this.sessionStartTime = null;\n    this.ws = (() => {\n      const SocketConstructor = (() => {\n        if (url.startsWith('dwst://')) {\n          return FakeSocket;\n        }\n        return WebSocket;\n      })();\n      if (protocols.length < 1) {\n        return new SocketConstructor(url);\n      }\n      return new SocketConstructor(url, protocols);\n    })();\n    this.ws.onopen = this._onopen.bind(this);\n    this.ws.onclose = this._onclose.bind(this);\n    this.ws.onmessage = this._onmessage.bind(this);\n    this.ws.onerror = this._onerror.bind(this);\n  }\n\n  _onopen() {\n    this.sessionStartTime = (new Date()).getTime();\n    this._controller.onConnectionOpen(this.ws.protocol);\n  }\n\n  _onclose(e) {\n    const sessionLength = (() => {\n      if (this.sessionStartTime === null) {\n        return null;\n      }\n      const currentTime = (new Date()).getTime();\n      return currentTime - this.sessionStartTime;\n    })();\n    this._controller.onConnectionClose(e, sessionLength);\n  }\n\n  _onmessage(msg) {\n    this._controller.onMessage(msg.data);\n  }\n\n  _onerror() {\n    this._controller.onError();\n  }\n\n  get url() {\n    return this.ws.url;\n  }\n\n  get verb() {\n    const readyState = this.ws.readyState;\n    if (readyState === 0) {\n      return 'connecting';\n    }\n    if (readyState === 1) {\n      return 'connected';\n    }\n    if (readyState === 2) {\n      return 'closing connection';\n    }\n    if (readyState === 3) {\n      return 'hanging on an already closed connection';\n    }\n    throw new Error('Unkown readyState');\n  }\n\n  get protocol() {\n    return this.ws.protocol;\n  }\n\n  send(...params) {\n    if (this.ws.readyState !== 1) {\n      this._controller.beforeSendWhileConnecting(this.verb);\n    }\n    this._controller.onSend(...params);\n    this.ws.send(...params);\n  }\n\n  close() {\n    this.ws.close();\n  }\n\n  isConnecting() {\n    return this.ws.readyState === 0;\n  }\n\n  isOpen() {\n    return this.ws.readyState === 1;\n  }\n\n  isClosing() {\n    return this.ws.readyState === 2;\n  }\n\n  isClosed() {\n    return this.ws.readyState === 3;\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./dwst/scripts/connection.js","\n/**\n\n  Authors: Toni Ruottu, Finland 2010-2018\n\n  This file is part of Dark WebSocket Terminal.\n\n  CC0 1.0 Universal, http://creativecommons.org/publicdomain/zero/1.0/\n\n  To the extent possible under law, Dark WebSocket Terminal developers have waived all\n  copyright and related or neighboring rights to Dark WebSocket Terminal.\n\n*/\n\nexport default class Disconnect {\n\n  constructor(dwst) {\n    this._dwst = dwst;\n  }\n\n  commands() {\n    return ['disconnect'];\n  }\n\n  usage() {\n    return [\n      '/disconnect',\n    ];\n  }\n\n  examples() {\n    return [\n      '/disconnect',\n    ];\n  }\n\n  info() {\n    return 'disconnect from a server';\n  }\n\n  run() {\n    if (this._dwst.model.connection === null) {\n      this._dwst.ui.terminal.log('No connection to disconnect', 'warning');\n    }\n    const protocol = [];\n    this._dwst.ui.terminal.mlog([`Closing connection to ${this._dwst.model.connection.url}`].concat(protocol), 'system');\n    this._dwst.model.connection.close();\n  }\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./dwst/scripts/plugins/disconnect.js","\n/**\n\n  Authors: Toni Ruottu, Finland 2010-2018\n\n  This file is part of Dark WebSocket Terminal.\n\n  CC0 1.0 Universal, http://creativecommons.org/publicdomain/zero/1.0/\n\n  To the extent possible under law, Dark WebSocket Terminal developers have waived all\n  copyright and related or neighboring rights to Dark WebSocket Terminal.\n\n*/\n\nexport default class Forget {\n\n  constructor(dwst) {\n    this._dwst = dwst;\n  }\n\n  commands() {\n    return ['forget'];\n  }\n\n  usage() {\n    return [\n      '/forget everything',\n    ];\n  }\n\n  examples() {\n    return [\n      '/forget everything',\n    ];\n  }\n\n  info() {\n    return 'empty history';\n  }\n\n  _removeHistory() {\n    this._dwst.model.history.forget();\n    const historyLine = this._dwst.model.history.getSummary().concat(['.']);\n    this._dwst.ui.terminal.mlog(['Successfully forgot stored history!', historyLine], 'system');\n  }\n\n  _run(target) {\n    if (target === 'everything') {\n      this._removeHistory();\n      this._dwst.ui.terminal.log(\"You may wish to use your browser's cleaning features to remove tracking cookies and other remaining traces.\", 'warning');\n    } else {\n      const historyLine = this._dwst.model.history.getSummary().concat(['.']);\n      throw new this._dwst.lib.errors.InvalidArgument(target, historyLine);\n    }\n  }\n\n  run(paramString) {\n    if (paramString.length < 1) {\n      this._run();\n      return;\n    }\n    const params = paramString.split(' ');\n    this._run(...params);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./dwst/scripts/plugins/forget.js","\n/**\n\n  Authors: Toni Ruottu, Finland 2010-2018\n\n  This file is part of Dark WebSocket Terminal.\n\n  CC0 1.0 Universal, http://creativecommons.org/publicdomain/zero/1.0/\n\n  To the extent possible under law, Dark WebSocket Terminal developers have waived all\n  copyright and related or neighboring rights to Dark WebSocket Terminal.\n\n*/\n\nexport default class Help {\n\n  constructor(dwst) {\n    this._dwst = dwst;\n  }\n\n  commands() {\n    return ['help'];\n  }\n\n  usage() {\n    return [\n      '/help',\n      '/help <command>',\n    ];\n  }\n\n  examples() {\n    return [\n      '/help',\n      '/help send',\n      '/help binary',\n    ];\n  }\n\n  info() {\n    return 'get help';\n  }\n\n  _run(section = '#main') {\n    this._dwst.ui.terminal.clearLog();\n    const page = this._dwst.model.dwstgg.page(section);\n    this._dwst.ui.terminal.mlog(page, 'system');\n  }\n\n  run(paramString) {\n    if (paramString.length < 1) {\n      this._run();\n      return;\n    }\n    const params = paramString.split(' ');\n    this._run(...params);\n  }\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./dwst/scripts/plugins/help.js","\n/**\n\n  Authors: Toni Ruottu, Finland 2010-2018\n\n  This file is part of Dark WebSocket Terminal.\n\n  CC0 1.0 Universal, http://creativecommons.org/publicdomain/zero/1.0/\n\n  To the extent possible under law, Dark WebSocket Terminal developers have waived all\n  copyright and related or neighboring rights to Dark WebSocket Terminal.\n\n*/\n\nexport default class Interval {\n\n  constructor(dwst) {\n    this._dwst = dwst;\n  }\n\n  commands() {\n    return ['interval'];\n  }\n\n  usage() {\n    return [\n      '/interval <interval> [command line...]',\n      '/interval',\n    ];\n  }\n\n  examples() {\n    return [\n      '/interval 1000',\n      '/interval 1000 /binary ${randomBytes(10)}',\n      '/interval',\n    ];\n  }\n\n  info() {\n    return 'run an other command periodically';\n  }\n\n  _run(intervalStr = null, ...commandParts) {\n    if (intervalStr === null) {\n      if (this._dwst.model.intervalId === null) {\n        this._dwst.ui.terminal.log('No interval to clear', 'warning');\n        return;\n      }\n      clearInterval(this._dwst.model.intervalId);\n      this._dwst.model.intervalId = null;\n      this._dwst.ui.terminal.log('interval cleared', 'system');\n      return;\n    }\n    const [command, payload] = (() => {\n      if (commandParts.length < 1) {\n        return ['send', null];\n      }\n      const firstPart = commandParts[0];\n      const otherParts = commandParts.slice(1);\n      if (['/s', '/send', '/b', '/binary'].includes(firstPart) === false) {\n        throw new this._dwst.lib.errors.InvalidCombination('interval', ['send', 'binary']);\n      }\n      return [firstPart.slice(1), otherParts.join(' ')];\n    })();\n    let count = 0;\n    const interval = this._dwst.lib.utils.parseNum(intervalStr);\n    const spammer = () => {\n      const message = (() => {\n        if (payload === null) {\n          return String(count);\n        }\n        return payload;\n      })();\n      if (this._dwst.model.connection === null || this._dwst.model.connection.isOpen() === false) {\n        if (this._dwst.model.intervalId !== null) {\n          clearInterval(this._dwst.model.intervalId);\n          this._dwst.model.intervalId = null;\n          throw new this._dwst.lib.errors.NoConnection(message);\n        }\n        return;\n      }\n      this._dwst.controller.prompt.run([command, message].join(' '));\n      count += 1;\n    };\n    if (this._dwst.model.intervalId !== null) {\n      this._dwst.ui.terminal.log('clearing old interval', 'system');\n      clearInterval(this._dwst.model.intervalId);\n      this._dwst.model.intervalId = null;\n    }\n    this._dwst.model.intervalId = setInterval(spammer, interval);\n    this._dwst.ui.terminal.log('interval set', 'system');\n  }\n\n  run(paramString) {\n    if (paramString.length < 1) {\n      this._run();\n      return;\n    }\n    const params = paramString.split(' ');\n    this._run(...params);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./dwst/scripts/plugins/interval.js","\n/**\n\n  Authors: Toni Ruottu, Finland 2010-2018\n\n  This file is part of Dark WebSocket Terminal.\n\n  CC0 1.0 Universal, http://creativecommons.org/publicdomain/zero/1.0/\n\n  To the extent possible under law, Dark WebSocket Terminal developers have waived all\n  copyright and related or neighboring rights to Dark WebSocket Terminal.\n\n*/\n\nexport default class Loadbin {\n\n  constructor(dwst) {\n    this._dwst = dwst;\n  }\n\n  commands() {\n    return ['loadbin'];\n  }\n\n  usage() {\n    return [\n      '/loadbin [variable]',\n    ];\n  }\n\n  examples() {\n    return [\n      '/loadbin',\n      '/loadbin default',\n    ];\n  }\n\n  info() {\n    return 'load binary data from a file';\n  }\n\n  _run(variable = 'default') {\n    this._dwst.ui.fileInput.read(file => {\n      const reader = new FileReader();\n      reader.addEventListener('load', evt => {\n        const buffer = evt.target.result;\n        this._dwst.model.bins.set(variable, buffer);\n        this._dwst.ui.terminal.log(`Binary file ${file.name} (${buffer.byteLength}B) loaded to \"${variable}\"`, 'system');\n      });\n      reader.readAsArrayBuffer(file);\n    });\n  }\n\n  run(paramString) {\n    if (paramString.length < 1) {\n      this._run();\n      return;\n    }\n    const params = paramString.split(' ');\n    this._run(...params);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./dwst/scripts/plugins/loadbin.js","\n/**\n\n  Authors: Toni Ruottu, Finland 2010-2018\n\n  This file is part of Dark WebSocket Terminal.\n\n  CC0 1.0 Universal, http://creativecommons.org/publicdomain/zero/1.0/\n\n  To the extent possible under law, Dark WebSocket Terminal developers have waived all\n  copyright and related or neighboring rights to Dark WebSocket Terminal.\n\n*/\n\nexport default class Loadtext {\n\n  constructor(dwst) {\n    this._dwst = dwst;\n  }\n\n  commands() {\n    return ['loadtext'];\n  }\n\n  usage() {\n    return [\n      '/loadtext [variable] [encoding]',\n    ];\n  }\n\n  examples() {\n    return [\n      '/loadtext',\n      '/loadtext default',\n      '/loadtext default utf-8',\n    ];\n  }\n\n  info() {\n    return 'load text data from a file';\n  }\n\n  _run(variable = 'default', encoding) {\n    this._dwst.ui.fileInput.read(file => {\n      const reader = new FileReader();\n      reader.addEventListener('load', evt => {\n        const text = evt.target.result;\n        this._dwst.model.texts.set(variable, text);\n        this._dwst.ui.terminal.log(`Text file ${file.name} (${text.length}B) loaded to \"${variable}\"`, 'system');\n      });\n      reader.readAsText(file, encoding);\n    });\n  }\n\n  run(paramString) {\n    if (paramString.length < 1) {\n      this._run();\n      return;\n    }\n    const params = paramString.split(' ');\n    this._run(...params);\n  }\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./dwst/scripts/plugins/loadtext.js","\n/**\n\n  Authors: Toni Ruottu, Finland 2018\n\n  This file is part of Dark WebSocket Terminal.\n\n  CC0 1.0 Universal, http://creativecommons.org/publicdomain/zero/1.0/\n\n  To the extent possible under law, Dark WebSocket Terminal developers have waived all\n  copyright and related or neighboring rights to Dark WebSocket Terminal.\n\n*/\n\nexport default class Pwa {\n\n  constructor(dwst) {\n    this._dwst = dwst;\n  }\n\n  commands() {\n    return ['pwa'];\n  }\n\n  usage() {\n    return [\n      '/pwa <action>',\n    ];\n  }\n\n  examples() {\n    return [\n      '/pwa install',\n    ];\n  }\n\n  info() {\n    return 'control progressive web application features';\n  }\n\n  run(...args) {\n    if (args[0] === 'install') {\n      this._dwst.controller.pwa.onInstall();\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./dwst/scripts/plugins/pwa.js","\n/**\n\n  Authors: Toni Ruottu, Finland 2010-2018\n\n  This file is part of Dark WebSocket Terminal.\n\n  CC0 1.0 Universal, http://creativecommons.org/publicdomain/zero/1.0/\n\n  To the extent possible under law, Dark WebSocket Terminal developers have waived all\n  copyright and related or neighboring rights to Dark WebSocket Terminal.\n\n*/\n\nexport default class Reset {\n\n  constructor(dwst) {\n    this._dwst = dwst;\n  }\n\n  commands() {\n    return ['reset'];\n  }\n\n  usage() {\n    return [\n      '/reset',\n    ];\n  }\n\n  examples() {\n    return [\n      '/reset',\n    ];\n  }\n\n  info() {\n    return 'reset the message buffer';\n  }\n\n  run() {\n    this._dwst.ui.terminal.reset();\n  }\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./dwst/scripts/plugins/reset.js","\n/**\n\n  Authors: Toni Ruottu, Finland 2010-2018\n\n  This file is part of Dark WebSocket Terminal.\n\n  CC0 1.0 Universal, http://creativecommons.org/publicdomain/zero/1.0/\n\n  To the extent possible under law, Dark WebSocket Terminal developers have waived all\n  copyright and related or neighboring rights to Dark WebSocket Terminal.\n\n*/\n\nexport default class Send {\n\n  constructor(dwst) {\n    this._dwst = dwst;\n  }\n\n  commands() {\n    return ['send', 's', ''];\n  }\n\n  usage() {\n    return [\n      '/send [template]',\n      '/s [template]',\n    ];\n  }\n\n  examples() {\n    return [\n      '/send Hello world!',\n      '/send [\"JSON\",\"is\",\"cool\"]',\n      '/send multiline\\\\r\\\\nmessage',\n      '/send null terminated string\\\\0one more\\\\0',\n      '/send tab\\\\x09separated\\\\x09strings',\n      '/send unicode snowman \\\\u2603',\n      '/send unicode tea cup \\\\u{1f375}',\n      '/s Available now with 60% less typing!',\n    ];\n  }\n\n  info() {\n    return 'send textual data';\n  }\n\n  _process(instr, params) {\n    if (instr === 'default') {\n      return params[0];\n    }\n    const func = this._dwst.functions.getFunction(instr);\n    if (func === null) {\n      throw new this._dwst.lib.errors.UnknownInstruction(instr);\n    }\n    return func.run(params);\n  }\n\n  run(paramString) {\n    const parsed = this._dwst.lib.particles.parseParticles(paramString);\n    const processed = parsed.map(particle => {\n      const [instruction, ...args] = particle;\n      const textOrBinary = this._process(instruction, args);\n      if (typeof textOrBinary === 'string') {\n        return textOrBinary;\n      }\n      const text = new TextDecoder('utf-8').decode(textOrBinary, {fatal: true});\n      return text;\n    });\n    const msg = processed.join('');\n\n    const connection = this._dwst.model.connection;\n    if (connection === null || connection.isClosing() || connection.isClosed()) {\n      throw new this._dwst.lib.errors.NoConnection(msg);\n    }\n    this._dwst.model.connection.send(msg);\n  }\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./dwst/scripts/plugins/send.js","\n/**\n\n  Authors: Toni Ruottu, Finland 2010-2018\n\n  This file is part of Dark WebSocket Terminal.\n\n  CC0 1.0 Universal, http://creativecommons.org/publicdomain/zero/1.0/\n\n  To the extent possible under law, Dark WebSocket Terminal developers have waived all\n  copyright and related or neighboring rights to Dark WebSocket Terminal.\n\n*/\n\nexport default class Spam {\n\n  constructor(dwst) {\n    this._dwst = dwst;\n  }\n\n  commands() {\n    return ['spam'];\n  }\n\n  usage() {\n    return [\n      '/spam <times> [command line...]',\n    ];\n  }\n\n  examples() {\n    return [\n      '/spam 10',\n      '/spam 6 /binary ${randomBytes(10)}',\n    ];\n  }\n\n  info() {\n    return 'run a command multiple times';\n  }\n\n  _run(timesStr, ...commandParts) {\n    const times = this._dwst.lib.utils.parseNum(timesStr);\n    const [command, payload] = (() => {\n      if (commandParts.length < 1) {\n        return ['send', null];\n      }\n      const firstPart = commandParts[0];\n      const otherParts = commandParts.slice(1);\n      if (['/s', '/send', '/b', '/binary'].includes(firstPart) === false) {\n        throw new this._dwst.lib.errors.InvalidCombination('spam', ['send', 'binary']);\n      }\n      return [firstPart.slice(1), otherParts.join(' ')];\n    })();\n    const spam = (limit, i = 0) => {\n      if (i === limit) {\n        return;\n      }\n      const message = (() => {\n        if (payload === null) {\n          return String(i);\n        }\n        return payload;\n      })();\n      if (this._dwst.model.connection === null || this._dwst.model.connection.isOpen() === false) {\n        throw new this._dwst.lib.errors.NoConnection(message);\n      }\n      this._dwst.controller.prompt.run([command, message].join(' '));\n      const nextspam = () => {\n        spam(limit, i + 1);\n      };\n      setTimeout(nextspam, 0);\n    };\n    spam(times);\n  }\n\n  run(paramString) {\n    if (paramString.length < 1) {\n      this._run();\n      return;\n    }\n    const params = paramString.split(' ');\n    this._run(...params);\n  }\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./dwst/scripts/plugins/spam.js","\n/**\n\n  Authors: Toni Ruottu, Finland 2010-2018\n\n  This file is part of Dark WebSocket Terminal.\n\n  CC0 1.0 Universal, http://creativecommons.org/publicdomain/zero/1.0/\n\n  To the extent possible under law, Dark WebSocket Terminal developers have waived all\n  copyright and related or neighboring rights to Dark WebSocket Terminal.\n\n*/\n\nexport default class Splash {\n\n  constructor(dwst) {\n    this._dwst = dwst;\n  }\n\n  commands() {\n    return ['splash'];\n  }\n\n  usage() {\n    return [\n      '/splash',\n    ];\n  }\n\n  examples() {\n    return [\n      '/splash',\n    ];\n  }\n\n  info() {\n    return 'revisit welcome screen';\n  }\n\n  run() {\n\n    this._dwst.ui.terminal.clearLog();\n\n    /* eslint-disable quotes,object-property-newline */\n\n    /*\n    This template is left here as a comment in hopes it helps with creating new splash shapes.\n    The /idkfa command may also be of use when working with splash shapes.\n\n    const shape = [\n      \".       HH.      dd .        ..  TT    ..        ..        ..        ..    TT  ..        . dd      .HH       .\",\n      \".       HH.      dd .        ..  TT    ..        ..        ..        ..    TT  ..        . dd      .HH       .\",\n      \".       HH.      dd .        ..  TT    ..        ..        ..        ..    TT  ..        . dd      .HH       .\",\n      \".       HH.      dd .        ..  TT    ..        ..        ..        ..    TT  ..        . dd      .HH       .\",\n      \".       HH.      dd .        ..  TT    ..        ..        ..        ..    TT  ..        . dd      .HH       .\",\n      \".       HH.      dd .        ..  TT    ..        ..        ..        ..    TT  ..        . dd      .HH       .\",\n      \".       HH.      dd .        ..  TT    ..        ..        ..        ..    TT  ..        . dd      .HH       .\",\n      \".       HH.      dd .        ..  TT    ..        ..        ..        ..    TT  ..        . dd      .HH       .\",\n      \".       HH.      dd .        ..  TT    ..        ..        ..        ..    TT  ..        . dd      .HH       .\",\n      \".       HH.      dd .        ..  TT    ..        ..        ..        ..    TT  ..        . dd      .HH       .\",\n      \".       HH.      dd .        ..  TT    ..        ..        ..        ..    TT  ..        . dd      .HH       .\",\n      \".       HH.      dd .        ..  TT    ..        ..        ..        ..    TT  ..        . dd      .HH       .\",\n      \".       HH.      dd .        ..  TT    ..        ..        ..        ..    TT  ..        . dd      .HH       .\",\n      \".       HH.      dd .        ..  TT    ..        ..        ..        ..    TT  ..        . dd      .HH       .\",\n      \".       HH.      dd .        ..  TT    ..        ..        ..        ..    TT  ..        . dd      .HH       .\",\n      \".       HH.      dd .        ..  TT    ..        ..        ..        ..    TT  ..        . dd      .HH       .\",\n      \".       HH.      dd .        ..  TT    ..        ..        ..        ..    TT  ..        . dd      .HH       .\",\n      \".       HH.      dd .        ..  TT    ..        ..        ..        ..    TT  ..        . dd      .HH       .\",\n      \".       HH.      dd .        ..  TT    ..        ..        ..        ..    TT  ..        . dd      .HH       .\",\n    ];\n    */\n\n    const shape = [\n      \"                                                                                                              \",\n      \"                                                                                                              \",\n      \"                                                                                                              \",\n      \"                                                                                                              \",\n      \"                                   `ggg.                                                                      \",\n      \"                                     ggg                                                                      \",\n      \"                                      gg.                                                                     \",\n      \"                                       gg                                 ggg'                                \",\n      \"                                       gg                                 gg                                  \",\n      \"                                   ,ggg g.  ggg       ggg.   .gggggg.     g                                   \",\n      \"                                 ,gg  `ggg ggg         ggg. gg      `g.  gg                                   \",\n      \"                                 gg     gg.g'           `gg gg.       `gggggg'                                \",\n      \"                                 gg     ggg'             gg. 'gggggg.  ,g                                     \",\n      \"                                 ll.     ll.     ,l.      ll       `ll l.                                     \",\n      \"                                  ll.   llll.   ,lll.   ,ll l`     ,ll ll.                                    \",\n      \"                                   `lllll' `lllll' `lllll'  `lllllll'   lll.                                  \",\n      \"                                                                                                              \",\n      \"                                                                                                              \",\n      \"                                                                                                              \",\n    ];\n\n    const defaultColors = [\n      \"                                                                                                              \",\n      \"                                                                                                              \",\n      \"                                                                                                              \",\n      \"                                                                                                              \",\n      \"                                   fffff                                                                      \",\n      \"                                     fff                                                                      \",\n      \"                                      fff                                                                     \",\n      \"                                       ff                                 ffff                                \",\n      \"                                       ff                                 ff                                  \",\n      \"                                   ffff ff  fff       ffff   ffffffff     f                                   \",\n      \"                                 fff  ffff fff         ffff ff      fff  ff                                   \",\n      \"                                 ff     fffff           fff fff       ffffffff                                \",\n      \"                                 ff     ffff             fff ffffffff  ff                                     \",\n      \"                                 555     555     555      55       555 55                                     \",\n      \"                                  555   55555   55555   555 55     555 555                                    \",\n      \"                                   5555555 5555555 5555555  555555555   5555                                  \",\n      \"                                                                                                              \",\n      \"                                                                                                              \",\n      \"                                                                                                              \",\n    ];\n\n    const xmasColors = [\n      \"                                                                                                              \",\n      \"                                                                                                              \",\n      \"                                                                                                              \",\n      \"                                                                                                              \",\n      \"                                   77777                                                                      \",\n      \"                                     444                                                                      \",\n      \"                                      447                                                                     \",\n      \"                                       44                                 7777                                \",\n      \"                                       44                                 44                                  \",\n      \"                                   7774 44  777       7777   77777777     4                                   \",\n      \"                                 774  4444 444         4447 74      477  74                                   \",\n      \"                                 44     44444           444 444       47744444                                \",\n      \"                                 44     4444             447 44444444  44                                     \",\n      \"                                 222     222     222      22       222 22                                     \",\n      \"                                  222   22222   22222   222 22     222 222                                    \",\n      \"                                   2222222 2222222 2222222  222222222   2222                                  \",\n      \"                                                                                                              \",\n      \"                                                                                                              \",\n      \"                                                                                                              \",\n    ];\n\n    /* eslint-enable quotes,object-property-newline */\n\n    let colors = defaultColors;\n    const now = new Date();\n    const date = now.getDate();\n    const month = now.getMonth();\n    if (date === 24 && month === 11) {\n      colors = xmasColors;\n    }\n\n    const CONNECTION_LIST_CAP = 3;\n    const historySummary = this._dwst.model.history.getSummary();\n    const maybeTooManyConnectCommands =  this._dwst.model.history.getConnectCommands(CONNECTION_LIST_CAP + 1);\n    const connectCommands = maybeTooManyConnectCommands.slice(0, CONNECTION_LIST_CAP);\n    const connectionsLines = connectCommands.map(command => {\n      return {\n        type: 'command',\n        text: command,\n      };\n    });\n    const tooManyWarning = (() => {\n      if (maybeTooManyConnectCommands.length > CONNECTION_LIST_CAP) {\n        return [`(more than ${CONNECTION_LIST_CAP} in total, hiding some)`];\n      }\n      return [];\n    })();\n    const historySection = ([\n      historySummary.concat([\n        ', including ',\n        {\n          type: 'dwstgg',\n          text: 'connect',\n          section: 'connect',\n        },\n        ' commands',\n      ]),\n    ]).concat(\n      connectionsLines,\n    ).concat(\n      tooManyWarning,\n    );\n    const statusSection = (() => {\n      if (this._dwst.model.connection === null) {\n        return [];\n      }\n      const connectionStatus = [\n        'Currently ',\n        this._dwst.model.connection.verb,\n        ' to ',\n        {\n          type: 'strong',\n          text: this._dwst.model.connection.url,\n        },\n      ];\n      const maybeProtocolStatus = (() => {\n        const protocol = this._dwst.model.connection.protocol;\n        if (protocol.length < 1) {\n          return [];\n        }\n        return [\n          [\n            'Selected protocol: ',\n            {\n              type: 'strong',\n              text: protocol,\n            },\n          ],\n        ];\n      })();\n      const disconnectInstructions = [\n        'Type ',\n        {\n          type: 'command',\n          text: '/disconnect',\n        },\n        ' to end the connection',\n      ];\n      return ([\n        connectionStatus,\n      ]).concat(maybeProtocolStatus).concat([\n        '',\n        disconnectInstructions,\n      ]);\n    })();\n    const about = [\n      [\n        {\n          type: 'h1',\n          text: `Dark WebSocket Terminal ${this._dwst.model.config.appVersion}`,\n        },\n      ],\n    ];\n    const beginnerInfo = [\n      [\n        '1. Create a test connection by typing ',\n        {\n          type: 'command',\n          text: `/connect ${this._dwst.model.config.echoServer}`,\n        },\n      ],\n      [\n        '2. Type messages into the text input',\n      ],\n      [\n        '3. Click on DWST logo if you get lost',\n      ],\n    ];\n    const helpReminder = [\n      [\n        'Type ',\n        {\n          type: 'command',\n          text: '/help',\n        },\n        ' to see the full range of available commands',\n      ],\n    ];\n    const privacyReminder = [\n      [\n        {\n          type: 'dwstgg',\n          text: 'Check',\n          section: '#privacy',\n          warning: true,\n        },\n        ' privacy and tracking info',\n      ],\n    ];\n    const linkSection = [\n      [\n        {\n          type: 'link',\n          text: 'GitHub',\n          url: 'https://github.com/dwst/dwst',\n        },\n        {\n          type: 'regular',\n          text: ' &bull; ',\n          unsafe: true,\n        },\n        {\n          type: 'link',\n          text: 'chat',\n          url: 'https://gitter.im/dwst/dwst',\n        },\n        {\n          type: 'regular',\n          text: ' &bull; ',\n          unsafe: true,\n        },\n        {\n          type: 'link',\n          text: 'rfc6455',\n          url: 'https://tools.ietf.org/html/rfc6455',\n        },\n        {\n          type: 'regular',\n          text: ' &bull; ',\n          unsafe: true,\n        },\n        {\n          type: 'link',\n          text: 'iana',\n          url: 'https://www.iana.org/assignments/websocket/websocket.xhtml',\n        },\n      ],\n    ];\n    const sections = (() => {\n      if (this._dwst.model.connection !== null) {\n        return [\n          about,\n          [''],\n          statusSection,\n          [''],\n          helpReminder,\n          [''],\n          linkSection,\n          [''],\n        ];\n      }\n      if (connectCommands.length > 0) {\n        return [\n          about,\n          [''],\n          historySection,\n          [''],\n          privacyReminder,\n          [''],\n          helpReminder,\n          [''],\n          linkSection,\n          [''],\n        ];\n      }\n      return [\n        about,\n        [''],\n        beginnerInfo,\n        [''],\n        privacyReminder,\n        [''],\n        helpReminder,\n        [''],\n        linkSection,\n        [''],\n      ];\n    })();\n    this._dwst.ui.terminal.gfx(shape, colors);\n    this._dwst.ui.terminal.mlog([].concat(...sections), 'system');\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./dwst/scripts/plugins/splash.js","\n/**\n\n  Authors: Toni Ruottu, Finland 2010-2018\n\n  This file is part of Dark WebSocket Terminal.\n\n  CC0 1.0 Universal, http://creativecommons.org/publicdomain/zero/1.0/\n\n  To the extent possible under law, Dark WebSocket Terminal developers have waived all\n  copyright and related or neighboring rights to Dark WebSocket Terminal.\n\n*/\n\nexport default class Texts {\n\n  constructor(dwst) {\n    this._dwst = dwst;\n  }\n\n  commands() {\n    return ['texts'];\n  }\n\n  usage() {\n    return [\n      '/texts',\n      '/texts [name]',\n    ];\n  }\n\n  examples() {\n    return [\n      '/texts',\n      '/texts default',\n    ];\n  }\n\n  info() {\n    return 'list loaded texts';\n  }\n\n  _run(variable = null) {\n    if (variable !== null) {\n      const text = this._dwst.model.texts.get(variable);\n      if (typeof text  !== 'undefined') {\n        this._dwst.ui.terminal.log(text, 'system');\n        return;\n      }\n      throw new this._dwst.lib.errors.UnknownText(variable);\n    }\n    const listing = [...this._dwst.model.texts.entries()].map(([name, text]) => {\n      return `\"${name}\": <${text.length}B of text data>`;\n    });\n    const strs = ['Loaded texts:'].concat(listing);\n    this._dwst.ui.terminal.mlog(strs, 'system');\n  }\n\n  run(paramString) {\n    if (paramString.length < 1) {\n      this._run();\n      return;\n    }\n    const params = paramString.split(' ');\n    this._run(...params);\n  }\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./dwst/scripts/plugins/texts.js","\n/**\n\n  Authors: Toni Ruottu, Finland 2010-2018\n\n  This file is part of Dark WebSocket Terminal.\n\n  CC0 1.0 Universal, http://creativecommons.org/publicdomain/zero/1.0/\n\n  To the extent possible under law, Dark WebSocket Terminal developers have waived all\n  copyright and related or neighboring rights to Dark WebSocket Terminal.\n\n*/\n\nexport default class Bin {\n\n  constructor(dwst) {\n    this._dwst = dwst;\n  }\n\n  commands() {\n    return ['bin'];\n  }\n\n  usage() {\n    return [\n      'bin(<variable name>)',\n    ];\n  }\n\n  examples() {\n    return [\n      '/s ${bin(foo)}',\n      '/b ${bin(foo)}',\n    ];\n  }\n\n  type() {\n    return 'BINARY';\n  }\n\n  info() {\n    return 'read binary variable';\n  }\n\n  run(params) {\n    let variable = 'default';\n    if (params.length === 1) {\n      variable = params[0];\n    }\n    let buffer = this._dwst.model.bins.get(variable);\n    if (typeof buffer === 'undefined') {\n      buffer = [];\n    }\n    return new Uint8Array(buffer);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./dwst/scripts/functions/bin.js","\n/**\n\n  Authors: Toni Ruottu, Finland 2010-2018\n\n  This file is part of Dark WebSocket Terminal.\n\n  CC0 1.0 Universal, http://creativecommons.org/publicdomain/zero/1.0/\n\n  To the extent possible under law, Dark WebSocket Terminal developers have waived all\n  copyright and related or neighboring rights to Dark WebSocket Terminal.\n\n*/\n\nexport default class ByteRange {\n\n  constructor(dwst) {\n    this._dwst = dwst;\n  }\n\n  commands() {\n    return ['byteRange'];\n  }\n\n  usage() {\n    return [\n      'byteRange(<start>, <end>)',\n    ];\n  }\n\n  examples() {\n    return [\n      '/s From a to z: ${byteRange(97,122)}',\n      '/b ${byteRange(0,0xff)}',\n    ];\n  }\n\n  type() {\n    return 'BINARY';\n  }\n\n  info() {\n    return 'generate sequential bytes';\n  }\n\n  run(params) {\n    let start = 0;\n    let end = 0xff;\n    if (params.length === 1) {\n      end = this._dwst.lib.utils.parseNum(params[0]);\n    }\n    if (params.length === 2) {\n      start = this._dwst.lib.utils.parseNum(params[0]);\n      end = this._dwst.lib.utils.parseNum(params[1]);\n    }\n    const bytes = [];\n    for (let i = start; i <= end; i++) {\n      bytes.push(i);\n    }\n    return new Uint8Array(bytes);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./dwst/scripts/functions/byte_range.js","\n/**\n\n  Authors: Toni Ruottu, Finland 2010-2018\n\n  This file is part of Dark WebSocket Terminal.\n\n  CC0 1.0 Universal, http://creativecommons.org/publicdomain/zero/1.0/\n\n  To the extent possible under law, Dark WebSocket Terminal developers have waived all\n  copyright and related or neighboring rights to Dark WebSocket Terminal.\n\n*/\n\nexport default class CharRange {\n\n  constructor(dwst) {\n    this._dwst = dwst;\n  }\n\n  commands() {\n    return ['charRange'];\n  }\n\n  usage() {\n    return [\n      'charRange(<start>, <end>)',\n    ];\n  }\n\n  examples() {\n    return [\n      '/s From a to z: ${charRange(97,122)}',\n      '/s ${charRange(0x2600,0x2603)}',\n      '/b ${charRange(0x2600,0x2603)}',\n    ];\n  }\n\n  type() {\n    return 'STRING';\n  }\n\n  info() {\n    return 'generate sequential characters';\n  }\n\n  run(params) {\n    let start = 32;\n    let end = 126;\n    if (params.length === 1) {\n      end = this._dwst.lib.utils.parseNum(params[0]);\n    }\n    if (params.length === 2) {\n      start = this._dwst.lib.utils.parseNum(params[0]);\n      end = this._dwst.lib.utils.parseNum(params[1]);\n    }\n    let str = '';\n    for (let i = start; i <= end; i++) {\n      str += String.fromCodePoint(i);\n    }\n    return str;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./dwst/scripts/functions/char_range.js","\n/**\n\n  Authors: Toni Ruottu, Finland 2010-2018\n\n  This file is part of Dark WebSocket Terminal.\n\n  CC0 1.0 Universal, http://creativecommons.org/publicdomain/zero/1.0/\n\n  To the extent possible under law, Dark WebSocket Terminal developers have waived all\n  copyright and related or neighboring rights to Dark WebSocket Terminal.\n\n*/\n\nexport default class RandomBytes {\n\n  constructor(dwst) {\n    this._dwst = dwst;\n  }\n\n  commands() {\n    return ['randomBytes'];\n  }\n\n  usage() {\n    return [\n      'randomBytes(<number>)',\n    ];\n  }\n\n  examples() {\n    return [\n      '/s rpc(${randomBytes(5)})',\n      '/b ${randomBytes(16)}',\n    ];\n  }\n\n  type() {\n    return 'BINARY';\n  }\n\n  info() {\n    return 'generate random bytes';\n  }\n\n  run(params) {\n    const randombyte = () => {\n      const out = Math.floor(Math.random() * (0xff + 1));\n      return out;\n    };\n    let num = 16;\n    if (params.length === 1) {\n      num = this._dwst.lib.utils.parseNum(params[0]);\n    }\n    const bytes = [];\n    for (let i = 0; i < num; i++) {\n      bytes.push(randombyte());\n    }\n    return new Uint8Array(bytes);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./dwst/scripts/functions/random_bytes.js","\n/**\n\n  Authors: Toni Ruottu, Finland 2010-2018\n\n  This file is part of Dark WebSocket Terminal.\n\n  CC0 1.0 Universal, http://creativecommons.org/publicdomain/zero/1.0/\n\n  To the extent possible under law, Dark WebSocket Terminal developers have waived all\n  copyright and related or neighboring rights to Dark WebSocket Terminal.\n\n*/\n\nexport default class RandomChars {\n\n  constructor(dwst) {\n    this._dwst = dwst;\n  }\n\n  commands() {\n    return ['randomChars'];\n  }\n\n  usage() {\n    return [\n      'randomChars(<number>)',\n    ];\n  }\n\n  examples() {\n    return [\n      '/s ${randomChars(10)}',\n      '/b ${randomChars(10)}',\n    ];\n  }\n\n  type() {\n    return 'STRING';\n  }\n\n  info() {\n    return 'generate random characters';\n  }\n\n  run(params) {\n    const randomchar = () => {\n      let out = Math.floor(Math.random() * (0xffff + 1));\n      out /= 2; // avoid risky characters\n      const char = String.fromCodePoint(out);\n      return char;\n    };\n    let num = 16;\n    if (params.length === 1) {\n      num = this._dwst.lib.utils.parseNum(params[0]);\n    }\n    let str = '';\n    for (let i = 0; i < num; i++) {\n      str += randomchar();\n    }\n    return str;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./dwst/scripts/functions/random_chars.js","\n/**\n\n  Authors: Toni Ruottu, Finland 2010-2018\n\n  This file is part of Dark WebSocket Terminal.\n\n  CC0 1.0 Universal, http://creativecommons.org/publicdomain/zero/1.0/\n\n  To the extent possible under law, Dark WebSocket Terminal developers have waived all\n  copyright and related or neighboring rights to Dark WebSocket Terminal.\n\n*/\n\nexport default class Text {\n\n  constructor(dwst) {\n    this._dwst = dwst;\n  }\n\n  commands() {\n    return ['text'];\n  }\n\n  usage() {\n    return [\n      'text(<variable name>)',\n    ];\n  }\n\n  examples() {\n    return [\n      '/s ${text(foo)}',\n      '/b ${text(foo)}',\n    ];\n  }\n\n  type() {\n    return 'STRING';\n  }\n\n  info() {\n    return 'read text variable';\n  }\n\n  run(params) {\n    let variable = 'default';\n    if (params.length === 1) {\n      variable = params[0];\n    }\n    return this._dwst.model.texts.get(variable);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./dwst/scripts/functions/text.js","\n/**\n\n  Authors: Toni Ruottu, Finland 2010-2018\n\n  This file is part of Dark WebSocket Terminal.\n\n  CC0 1.0 Universal, http://creativecommons.org/publicdomain/zero/1.0/\n\n  To the extent possible under law, Dark WebSocket Terminal developers have waived all\n  copyright and related or neighboring rights to Dark WebSocket Terminal.\n\n*/\n\nexport default class Time {\n\n  constructor(dwst) {\n    this._dwst = dwst;\n  }\n\n  commands() {\n    return ['time'];\n  }\n\n  usage() {\n    return [\n      'time()',\n    ];\n  }\n\n  examples() {\n    return [\n      '/s ${time()}s since epoch',\n      '/b ${time()}',\n    ];\n  }\n\n  type() {\n    return 'STRING';\n  }\n\n  info() {\n    return 'generate timestamp';\n  }\n\n  run() {\n    return String(Math.round(new Date().getTime() / 1000));\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./dwst/scripts/functions/time.js"],"sourceRoot":""}